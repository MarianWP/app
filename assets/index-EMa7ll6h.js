const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SocialsView-CIr5dlPR.js","assets/SocialsView-CrLn6YUG.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();function Vn(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const ne={},cr=[],st=()=>{},jo=()=>!1,xs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Hn=t=>t.startsWith("onUpdate:"),ye=Object.assign,Kn=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},yl=Object.prototype.hasOwnProperty,Q=(t,e)=>yl.call(t,e),W=Array.isArray,ur=t=>Is(t)==="[object Map]",No=t=>Is(t)==="[object Set]",K=t=>typeof t=="function",pe=t=>typeof t=="string",_t=t=>typeof t=="symbol",oe=t=>t!==null&&typeof t=="object",$o=t=>(oe(t)||K(t))&&K(t.then)&&K(t.catch),Lo=Object.prototype.toString,Is=t=>Lo.call(t),wl=t=>Is(t).slice(8,-1),Uo=t=>Is(t)==="[object Object]",Wn=t=>pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,kr=Vn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),js=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},bl=/-\w/g,Me=js(t=>t.replace(bl,e=>e.slice(1).toUpperCase())),Sl=/\B([A-Z])/g,Wt=js(t=>t.replace(Sl,"-$1").toLowerCase()),Ns=js(t=>t.charAt(0).toUpperCase()+t.slice(1)),Gs=js(t=>t?`on${Ns(t)}`:""),xt=(t,e)=>!Object.is(t,e),zs=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Do=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},El=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pi;const $s=()=>pi||(pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function es(t){if(W(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=pe(s)?Rl(s):es(s);if(n)for(const i in n)e[i]=n[i]}return e}else if(pe(t)||oe(t))return t}const Cl=/;(?![^(]*\))/g,Al=/:([^]+)/,Tl=/\/\*[^]*?\*\//g;function Rl(t){const e={};return t.replace(Tl,"").split(Cl).forEach(r=>{if(r){const s=r.split(Al);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ts(t){let e="";if(pe(t))e=t;else if(W(t))for(let r=0;r<t.length;r++){const s=ts(t[r]);s&&(e+=s+" ")}else if(oe(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Ol="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kl=Vn(Ol);function Bo(t){return!!t||t===""}const Mo=t=>!!(t&&t.__v_isRef===!0),Tr=t=>pe(t)?t:t==null?"":W(t)||oe(t)&&(t.toString===Lo||!K(t.toString))?Mo(t)?Tr(t.value):JSON.stringify(t,Fo,2):String(t),Fo=(t,e)=>Mo(e)?Fo(t,e.value):ur(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],i)=>(r[Js(s,i)+" =>"]=n,r),{})}:No(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Js(r))}:_t(e)?Js(e):oe(e)&&!W(e)&&!Uo(e)?String(e):e,Js=(t,e="")=>{var r;return _t(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};let xe;class Pl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xe,!e&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=xe;try{return xe=this,e()}finally{xe=r}}}on(){++this._on===1&&(this.prevScope=xe,xe=this)}off(){this._on>0&&--this._on===0&&(xe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function xl(){return xe}let se;const Ys=new WeakSet;class qo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xe&&xe.active&&xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ys.has(this)&&(Ys.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ho(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gi(this),Ko(this);const e=se,r=Ke;se=this,Ke=!0;try{return this.fn()}finally{Wo(this),se=e,Ke=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Jn(e);this.deps=this.depsTail=void 0,gi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ys.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_n(this)&&this.run()}get dirty(){return _n(this)}}let Vo=0,Pr,xr;function Ho(t,e=!1){if(t.flags|=8,e){t.next=xr,xr=t;return}t.next=Pr,Pr=t}function Gn(){Vo++}function zn(){if(--Vo>0)return;if(xr){let e=xr;for(xr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Pr;){let e=Pr;for(Pr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function Ko(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Wo(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),Jn(s),Il(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function _n(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Go(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Go(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Br)||(t.globalVersion=Br,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!_n(t))))return;t.flags|=2;const e=t.dep,r=se,s=Ke;se=t,Ke=!0;try{Ko(t);const n=t.fn(t._value);(e.version===0||xt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{se=r,Ke=s,Wo(t),t.flags&=-3}}function Jn(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Jn(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Il(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ke=!0;const zo=[];function ft(){zo.push(Ke),Ke=!1}function pt(){const t=zo.pop();Ke=t===void 0?!0:t}function gi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=se;se=void 0;try{e()}finally{se=r}}}let Br=0;class jl{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yn{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!se||!Ke||se===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==se)r=this.activeLink=new jl(se,this),se.deps?(r.prevDep=se.depsTail,se.depsTail.nextDep=r,se.depsTail=r):se.deps=se.depsTail=r,Jo(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=se.depsTail,r.nextDep=void 0,se.depsTail.nextDep=r,se.depsTail=r,se.deps===r&&(se.deps=s)}return r}trigger(e){this.version++,Br++,this.notify(e)}notify(e){Gn();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{zn()}}}function Jo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Jo(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const vn=new WeakMap,Kt=Symbol(""),yn=Symbol(""),Mr=Symbol("");function we(t,e,r){if(Ke&&se){let s=vn.get(t);s||vn.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new Yn),n.map=s,n.key=r),n.track()}}function ht(t,e,r,s,n,i){const o=vn.get(t);if(!o){Br++;return}const a=l=>{l&&l.trigger()};if(Gn(),e==="clear")o.forEach(a);else{const l=W(t),c=l&&Wn(r);if(l&&r==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===Mr||!_t(d)&&d>=u)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(Mr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Kt)),ur(t)&&a(o.get(yn)));break;case"delete":l||(a(o.get(Kt)),ur(t)&&a(o.get(yn)));break;case"set":ur(t)&&a(o.get(Kt));break}}zn()}function Yt(t){const e=Z(t);return e===t?e:(we(e,"iterate",Mr),We(t)?e:e.map(gt))}function Zn(t){return we(t=Z(t),"iterate",Mr),t}function Et(t,e){return It(t)?Fr(hr(t)?gt(e):e):gt(e)}const Nl={__proto__:null,[Symbol.iterator](){return Zs(this,Symbol.iterator,t=>Et(this,t))},concat(...t){return Yt(this).concat(...t.map(e=>W(e)?Yt(e):e))},entries(){return Zs(this,"entries",t=>(t[1]=Et(this,t[1]),t))},every(t,e){return at(this,"every",t,e,void 0,arguments)},filter(t,e){return at(this,"filter",t,e,r=>r.map(s=>Et(this,s)),arguments)},find(t,e){return at(this,"find",t,e,r=>Et(this,r),arguments)},findIndex(t,e){return at(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return at(this,"findLast",t,e,r=>Et(this,r),arguments)},findLastIndex(t,e){return at(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return at(this,"forEach",t,e,void 0,arguments)},includes(...t){return Qs(this,"includes",t)},indexOf(...t){return Qs(this,"indexOf",t)},join(t){return Yt(this).join(t)},lastIndexOf(...t){return Qs(this,"lastIndexOf",t)},map(t,e){return at(this,"map",t,e,void 0,arguments)},pop(){return Sr(this,"pop")},push(...t){return Sr(this,"push",t)},reduce(t,...e){return mi(this,"reduce",t,e)},reduceRight(t,...e){return mi(this,"reduceRight",t,e)},shift(){return Sr(this,"shift")},some(t,e){return at(this,"some",t,e,void 0,arguments)},splice(...t){return Sr(this,"splice",t)},toReversed(){return Yt(this).toReversed()},toSorted(t){return Yt(this).toSorted(t)},toSpliced(...t){return Yt(this).toSpliced(...t)},unshift(...t){return Sr(this,"unshift",t)},values(){return Zs(this,"values",t=>Et(this,t))}};function Zs(t,e,r){const s=Zn(t),n=s[e]();return s!==t&&!We(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=r(i.value)),i}),n}const $l=Array.prototype;function at(t,e,r,s,n,i){const o=Zn(t),a=o!==t&&!We(t),l=o[e];if(l!==$l[e]){const h=l.apply(t,i);return a?gt(h):h}let c=r;o!==t&&(a?c=function(h,d){return r.call(this,Et(t,h),d,t)}:r.length>2&&(c=function(h,d){return r.call(this,h,d,t)}));const u=l.call(o,c,s);return a&&n?n(u):u}function mi(t,e,r,s){const n=Zn(t);let i=r;return n!==t&&(We(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,Et(t,a),l,t)}),n[e](i,...s)}function Qs(t,e,r){const s=Z(t);we(s,"iterate",Mr);const n=s[e](...r);return(n===-1||n===!1)&&ei(r[0])?(r[0]=Z(r[0]),s[e](...r)):n}function Sr(t,e,r=[]){ft(),Gn();const s=Z(t)[e].apply(t,r);return zn(),pt(),s}const Ll=Vn("__proto__,__v_isRef,__isVue"),Yo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(_t));function Ul(t){_t(t)||(t=String(t));const e=Z(this);return we(e,"has",t),e.hasOwnProperty(t)}class Zo{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?Gl:ta:i?ea:Xo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=W(e);if(!n){let l;if(o&&(l=Nl[r]))return l;if(r==="hasOwnProperty")return Ul}const a=Reflect.get(e,r,Se(e)?e:s);if((_t(r)?Yo.has(r):Ll(r))||(n||we(e,"get",r),i))return a;if(Se(a)){const l=o&&Wn(r)?a:a.value;return n&&oe(l)?bn(l):l}return oe(a)?n?bn(a):Ls(a):a}}class Qo extends Zo{constructor(e=!1){super(!1,e)}set(e,r,s,n){let i=e[r];const o=W(e)&&Wn(r);if(!this._isShallow){const c=It(i);if(!We(s)&&!It(s)&&(i=Z(i),s=Z(s)),!o&&Se(i)&&!Se(s))return c||(i.value=s),!0}const a=o?Number(r)<e.length:Q(e,r),l=Reflect.set(e,r,s,Se(e)?e:n);return e===Z(n)&&(a?xt(s,i)&&ht(e,"set",r,s):ht(e,"add",r,s)),l}deleteProperty(e,r){const s=Q(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&ht(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!_t(r)||!Yo.has(r))&&we(e,"has",r),s}ownKeys(e){return we(e,"iterate",W(e)?"length":Kt),Reflect.ownKeys(e)}}class Dl extends Zo{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Bl=new Qo,Ml=new Dl,Fl=new Qo(!0);const wn=t=>t,is=t=>Reflect.getPrototypeOf(t);function ql(t,e,r){return function(...s){const n=this.__v_raw,i=Z(n),o=ur(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...s),u=r?wn:e?Fr:gt;return!e&&we(i,"iterate",l?yn:Kt),ye(Object.create(c),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}}})}}function os(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Vl(t,e){const r={get(n){const i=this.__v_raw,o=Z(i),a=Z(n);t||(xt(n,a)&&we(o,"get",n),we(o,"get",a));const{has:l}=is(o),c=e?wn:t?Fr:gt;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&we(Z(n),"iterate",Kt),n.size},has(n){const i=this.__v_raw,o=Z(i),a=Z(n);return t||(xt(n,a)&&we(o,"has",n),we(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Z(a),c=e?wn:t?Fr:gt;return!t&&we(l,"iterate",Kt),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return ye(r,t?{add:os("add"),set:os("set"),delete:os("delete"),clear:os("clear")}:{add(n){!e&&!We(n)&&!It(n)&&(n=Z(n));const i=Z(this);return is(i).has.call(i,n)||(i.add(n),ht(i,"add",n,n)),this},set(n,i){!e&&!We(i)&&!It(i)&&(i=Z(i));const o=Z(this),{has:a,get:l}=is(o);let c=a.call(o,n);c||(n=Z(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?xt(i,u)&&ht(o,"set",n,i):ht(o,"add",n,i),this},delete(n){const i=Z(this),{has:o,get:a}=is(i);let l=o.call(i,n);l||(n=Z(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&ht(i,"delete",n,void 0),c},clear(){const n=Z(this),i=n.size!==0,o=n.clear();return i&&ht(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=ql(n,t,e)}),r}function Qn(t,e){const r=Vl(t,e);return(s,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(Q(r,n)&&n in s?r:s,n,i)}const Hl={get:Qn(!1,!1)},Kl={get:Qn(!1,!0)},Wl={get:Qn(!0,!1)};const Xo=new WeakMap,ea=new WeakMap,ta=new WeakMap,Gl=new WeakMap;function zl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jl(t){return t.__v_skip||!Object.isExtensible(t)?0:zl(wl(t))}function Ls(t){return It(t)?t:Xn(t,!1,Bl,Hl,Xo)}function ra(t){return Xn(t,!1,Fl,Kl,ea)}function bn(t){return Xn(t,!0,Ml,Wl,ta)}function Xn(t,e,r,s,n){if(!oe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Jl(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?s:r);return n.set(t,a),a}function hr(t){return It(t)?hr(t.__v_raw):!!(t&&t.__v_isReactive)}function It(t){return!!(t&&t.__v_isReadonly)}function We(t){return!!(t&&t.__v_isShallow)}function ei(t){return t?!!t.__v_raw:!1}function Z(t){const e=t&&t.__v_raw;return e?Z(e):t}function Yl(t){return!Q(t,"__v_skip")&&Object.isExtensible(t)&&Do(t,"__v_skip",!0),t}const gt=t=>oe(t)?Ls(t):t,Fr=t=>oe(t)?bn(t):t;function Se(t){return t?t.__v_isRef===!0:!1}function Sn(t){return sa(t,!1)}function Zl(t){return sa(t,!0)}function sa(t,e){return Se(t)?t:new Ql(t,e)}class Ql{constructor(e,r){this.dep=new Yn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Z(e),this._value=r?e:gt(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||We(e)||It(e);e=s?e:Z(e),xt(e,r)&&(this._rawValue=e,this._value=s?e:gt(e),this.dep.trigger())}}function Ie(t){return Se(t)?t.value:t}const Xl={get:(t,e,r)=>e==="__v_raw"?t:Ie(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return Se(n)&&!Se(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function na(t){return hr(t)?t:new Proxy(t,Xl)}class ec{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new Yn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Br-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&se!==this)return Ho(this,!0),!0}get value(){const e=this.dep.track();return Go(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tc(t,e,r=!1){let s,n;return K(t)?s=t:(s=t.get,n=t.set),new ec(s,n,r)}const as={},ys=new WeakMap;let Bt;function rc(t,e=!1,r=Bt){if(r){let s=ys.get(r);s||ys.set(r,s=[]),s.push(t)}}function sc(t,e,r=ne){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,c=R=>n?R:We(R)||n===!1||n===0?Ot(R,1):Ot(R);let u,h,d,f,m=!1,v=!1;if(Se(t)?(h=()=>t.value,m=We(t)):hr(t)?(h=()=>c(t),m=!0):W(t)?(v=!0,m=t.some(R=>hr(R)||We(R)),h=()=>t.map(R=>{if(Se(R))return R.value;if(hr(R))return c(R);if(K(R))return l?l(R,2):R()})):K(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){ft();try{d()}finally{pt()}}const R=Bt;Bt=u;try{return l?l(t,3,[f]):t(f)}finally{Bt=R}}:h=st,e&&n){const R=h,F=n===!0?1/0:n;h=()=>Ot(R(),F)}const C=xl(),w=()=>{u.stop(),C&&C.active&&Kn(C.effects,u)};if(i&&e){const R=e;e=(...F)=>{R(...F),w()}}let b=v?new Array(t.length).fill(as):as;const y=R=>{if(!(!(u.flags&1)||!u.dirty&&!R))if(e){const F=u.run();if(n||m||(v?F.some((V,H)=>xt(V,b[H])):xt(F,b))){d&&d();const V=Bt;Bt=u;try{const H=[F,b===as?void 0:v&&b[0]===as?[]:b,f];b=F,l?l(e,3,H):e(...H)}finally{Bt=V}}}else u.run()};return a&&a(y),u=new qo(h),u.scheduler=o?()=>o(y,!1):y,f=R=>rc(R,!1,u),d=u.onStop=()=>{const R=ys.get(u);if(R){if(l)l(R,4);else for(const F of R)F();ys.delete(u)}},e?s?y(!0):b=u.run():o?o(y.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function Ot(t,e=1/0,r){if(e<=0||!oe(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Se(t))Ot(t.value,e,r);else if(W(t))for(let s=0;s<t.length;s++)Ot(t[s],e,r);else if(No(t)||ur(t))t.forEach(s=>{Ot(s,e,r)});else if(Uo(t)){for(const s in t)Ot(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Ot(t[s],e,r)}return t}function rs(t,e,r,s){try{return s?t(...s):t()}catch(n){Us(n,e,r)}}function it(t,e,r,s){if(K(t)){const n=rs(t,e,r,s);return n&&$o(n)&&n.catch(i=>{Us(i,e,r)}),n}if(W(t)){const n=[];for(let i=0;i<t.length;i++)n.push(it(t[i],e,r,s));return n}}function Us(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ne;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){ft(),rs(i,null,10,[t,l,c]),pt();return}}nc(t,r,n,s,o)}function nc(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const Ae=[];let tt=-1;const dr=[];let Ct=null,sr=0;const ia=Promise.resolve();let ws=null;function oa(t){const e=ws||ia;return t?e.then(this?t.bind(this):t):e}function ic(t){let e=tt+1,r=Ae.length;for(;e<r;){const s=e+r>>>1,n=Ae[s],i=qr(n);i<t||i===t&&n.flags&2?e=s+1:r=s}return e}function ti(t){if(!(t.flags&1)){const e=qr(t),r=Ae[Ae.length-1];!r||!(t.flags&2)&&e>=qr(r)?Ae.push(t):Ae.splice(ic(e),0,t),t.flags|=1,aa()}}function aa(){ws||(ws=ia.then(ca))}function oc(t){W(t)?dr.push(...t):Ct&&t.id===-1?Ct.splice(sr+1,0,t):t.flags&1||(dr.push(t),t.flags|=1),aa()}function _i(t,e,r=tt+1){for(;r<Ae.length;r++){const s=Ae[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ae.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function la(t){if(dr.length){const e=[...new Set(dr)].sort((r,s)=>qr(r)-qr(s));if(dr.length=0,Ct){Ct.push(...e);return}for(Ct=e,sr=0;sr<Ct.length;sr++){const r=Ct[sr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ct=null,sr=0}}const qr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ca(t){try{for(tt=0;tt<Ae.length;tt++){const e=Ae[tt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),rs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;tt<Ae.length;tt++){const e=Ae[tt];e&&(e.flags&=-2)}tt=-1,Ae.length=0,la(),ws=null,(Ae.length||dr.length)&&ca()}}let Re=null,ua=null;function bs(t){const e=Re;return Re=t,ua=t&&t.type.__scopeId||null,e}function Ir(t,e=Re,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&Cs(-1);const i=bs(e);let o;try{o=t(...n)}finally{bs(i),s._d&&Cs(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function $t(t,e,r,s){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(ft(),it(l,r,8,[t.el,a,t,e]),pt())}}function Pt(t,e){if(be){let r=be.provides;const s=be.parent&&be.parent.provides;s===r&&(r=be.provides=Object.create(s)),r[t]=e}}function nt(t,e,r=!1){const s=lu();if(s||pr){let n=pr?pr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&K(e)?e.call(s&&s.proxy):e}}const ac=Symbol.for("v-scx"),lc=()=>nt(ac);function gs(t,e,r){return ha(t,e,r)}function ha(t,e,r=ne){const{immediate:s,deep:n,flush:i,once:o}=r,a=ye({},r),l=e&&s||!e&&i!=="post";let c;if(Kr){if(i==="sync"){const f=lc();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=st,f.resume=st,f.pause=st,f}}const u=be;a.call=(f,m,v)=>it(f,u,m,v);let h=!1;i==="post"?a.scheduler=f=>{$e(f,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,m)=>{m?f():ti(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=sc(t,e,a);return Kr&&(c?c.push(d):l&&d()),d}function cc(t,e,r){const s=this.proxy,n=pe(t)?t.includes(".")?da(s,t):()=>s[t]:t.bind(s,s);let i;K(e)?i=e:(i=e.handler,r=e);const o=ss(this),a=ha(n,i.bind(s),r);return o(),a}function da(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const uc=Symbol("_vte"),hc=t=>t.__isTeleport,dc=Symbol("_leaveCb");function ri(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ri(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fa(t,e){return K(t)?ye({name:t.name},e,{setup:t}):t}function pa(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Ss=new WeakMap;function jr(t,e,r,s,n=!1){if(W(t)){t.forEach((m,v)=>jr(m,e&&(W(e)?e[v]:e),r,s,n));return}if(fr(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&jr(t,e,r,s.component.subTree);return}const i=s.shapeFlag&4?oi(s.component):s.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ne?a.refs={}:a.refs,h=a.setupState,d=Z(h),f=h===ne?jo:m=>Q(d,m);if(c!=null&&c!==l){if(vi(e),pe(c))u[c]=null,f(c)&&(h[c]=null);else if(Se(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(K(l))rs(l,a,12,[o,u]);else{const m=pe(l),v=Se(l);if(m||v){const C=()=>{if(t.f){const w=m?f(l)?h[l]:u[l]:l.value;if(n)W(w)&&Kn(w,i);else if(W(w))w.includes(i)||w.push(i);else if(m)u[l]=[i],f(l)&&(h[l]=u[l]);else{const b=[i];l.value=b,t.k&&(u[t.k]=b)}}else m?(u[l]=o,f(l)&&(h[l]=o)):v&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const w=()=>{C(),Ss.delete(t)};w.id=-1,Ss.set(t,w),$e(w,r)}else vi(t),C()}}}function vi(t){const e=Ss.get(t);e&&(e.flags|=8,Ss.delete(t))}$s().requestIdleCallback;$s().cancelIdleCallback;const fr=t=>!!t.type.__asyncLoader,ga=t=>t.type.__isKeepAlive;function fc(t,e){ma(t,"a",e)}function pc(t,e){ma(t,"da",e)}function ma(t,e,r=be){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ds(e,s,r),r){let n=r.parent;for(;n&&n.parent;)ga(n.parent.vnode)&&gc(s,e,r,n),n=n.parent}}function gc(t,e,r,s){const n=Ds(e,t,s,!0);va(()=>{Kn(s[e],n)},r)}function Ds(t,e,r=be,s=!1){if(r){const n=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ft();const a=ss(r),l=it(e,r,t,o);return a(),pt(),l});return s?n.unshift(i):n.push(i),i}}const vt=t=>(e,r=be)=>{(!Kr||t==="sp")&&Ds(t,(...s)=>e(...s),r)},mc=vt("bm"),_a=vt("m"),_c=vt("bu"),vc=vt("u"),yc=vt("bum"),va=vt("um"),wc=vt("sp"),bc=vt("rtg"),Sc=vt("rtc");function Ec(t,e=be){Ds("ec",t,e)}const Cc="components";function Ac(t,e){return Rc(Cc,t,!0,e)||t}const Tc=Symbol.for("v-ndc");function Rc(t,e,r=!0,s=!1){const n=Re||be;if(n){const i=n.type;{const a=fu(i,!1);if(a&&(a===e||a===Me(e)||a===Ns(Me(e))))return i}const o=yi(n[t]||i[t],e)||yi(n.appContext[t],e);return!o&&s?i:o}}function yi(t,e){return t&&(t[e]||t[Me(e)]||t[Ns(Me(e))])}function Oc(t,e,r={},s,n){if(Re.ce||Re.parent&&fr(Re.parent)&&Re.parent.ce){const c=Object.keys(r).length>0;return De(),As(Te,null,[ie("slot",r,s)],c?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),De();const o=i&&ya(i(r)),a=r.key||o&&o.key,l=As(Te,{key:(a&&!_t(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),l}function ya(t){return t.some(e=>Hr(e)?!(e.type===mt||e.type===Te&&!ya(e.children)):!0)?t:null}const En=t=>t?Da(t)?oi(t):En(t.parent):null,Nr=ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>En(t.parent),$root:t=>En(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ba(t),$forceUpdate:t=>t.f||(t.f=()=>{ti(t.update)}),$nextTick:t=>t.n||(t.n=oa.bind(t.proxy)),$watch:t=>cc.bind(t)}),Xs=(t,e)=>t!==ne&&!t.__isScriptSetup&&Q(t,e),kc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return i[e]}else{if(Xs(s,e))return o[e]=1,s[e];if(n!==ne&&Q(n,e))return o[e]=2,n[e];if(Q(i,e))return o[e]=3,i[e];if(r!==ne&&Q(r,e))return o[e]=4,r[e];Cn&&(o[e]=0)}}const c=Nr[e];let u,h;if(c)return e==="$attrs"&&we(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(r!==ne&&Q(r,e))return o[e]=4,r[e];if(h=l.config.globalProperties,Q(h,e))return h[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:i}=t;return Xs(n,e)?(n[e]=r,!0):s!==ne&&Q(s,e)?(s[e]=r,!0):Q(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,props:i,type:o}},a){let l;return!!(r[a]||t!==ne&&a[0]!=="$"&&Q(t,a)||Xs(e,a)||Q(i,a)||Q(s,a)||Q(Nr,a)||Q(n.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Q(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function wi(t){return W(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Cn=!0;function Pc(t){const e=ba(t),r=t.proxy,s=t.ctx;Cn=!1,e.beforeCreate&&bi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:m,activated:v,deactivated:C,beforeDestroy:w,beforeUnmount:b,destroyed:y,unmounted:R,render:F,renderTracked:V,renderTriggered:H,errorCaptured:ue,serverPrefetch:ge,expose:ze,inheritAttrs:wt,components:jt,directives:Je,filters:wr}=e;if(c&&xc(c,s,null),o)for(const ee in o){const J=o[ee];K(J)&&(s[ee]=J.bind(r))}if(n){const ee=n.call(r,r);oe(ee)&&(t.data=Ls(ee))}if(Cn=!0,i)for(const ee in i){const J=i[ee],ot=K(J)?J.bind(r,r):K(J.get)?J.get.bind(r,r):st,bt=!K(J)&&K(J.set)?J.set.bind(r):st,Ye=He({get:ot,set:bt});Object.defineProperty(s,ee,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Oe=>Ye.value=Oe})}if(a)for(const ee in a)wa(a[ee],s,r,ee);if(l){const ee=K(l)?l.call(r):l;Reflect.ownKeys(ee).forEach(J=>{Pt(J,ee[J])})}u&&bi(u,t,"c");function me(ee,J){W(J)?J.forEach(ot=>ee(ot.bind(r))):J&&ee(J.bind(r))}if(me(mc,h),me(_a,d),me(_c,f),me(vc,m),me(fc,v),me(pc,C),me(Ec,ue),me(Sc,V),me(bc,H),me(yc,b),me(va,R),me(wc,ge),W(ze))if(ze.length){const ee=t.exposed||(t.exposed={});ze.forEach(J=>{Object.defineProperty(ee,J,{get:()=>r[J],set:ot=>r[J]=ot,enumerable:!0})})}else t.exposed||(t.exposed={});F&&t.render===st&&(t.render=F),wt!=null&&(t.inheritAttrs=wt),jt&&(t.components=jt),Je&&(t.directives=Je),ge&&pa(t)}function xc(t,e,r=st){W(t)&&(t=An(t));for(const s in t){const n=t[s];let i;oe(n)?"default"in n?i=nt(n.from||s,n.default,!0):i=nt(n.from||s):i=nt(n),Se(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function bi(t,e,r){it(W(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function wa(t,e,r,s){let n=s.includes(".")?da(r,s):()=>r[s];if(pe(t)){const i=e[t];K(i)&&gs(n,i)}else if(K(t))gs(n,t.bind(r));else if(oe(t))if(W(t))t.forEach(i=>wa(i,e,r,s));else{const i=K(t.handler)?t.handler.bind(r):e[t.handler];K(i)&&gs(n,i,t)}}function ba(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!r&&!s?l=e:(l={},n.length&&n.forEach(c=>Es(l,c,o,!0)),Es(l,e,o)),oe(e)&&i.set(e,l),l}function Es(t,e,r,s=!1){const{mixins:n,extends:i}=e;i&&Es(t,i,r,!0),n&&n.forEach(o=>Es(t,o,r,!0));for(const o in e)if(!(s&&o==="expose")){const a=Ic[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ic={data:Si,props:Ei,emits:Ei,methods:Rr,computed:Rr,beforeCreate:Ee,created:Ee,beforeMount:Ee,mounted:Ee,beforeUpdate:Ee,updated:Ee,beforeDestroy:Ee,beforeUnmount:Ee,destroyed:Ee,unmounted:Ee,activated:Ee,deactivated:Ee,errorCaptured:Ee,serverPrefetch:Ee,components:Rr,directives:Rr,watch:Nc,provide:Si,inject:jc};function Si(t,e){return e?t?function(){return ye(K(t)?t.call(this,this):t,K(e)?e.call(this,this):e)}:e:t}function jc(t,e){return Rr(An(t),An(e))}function An(t){if(W(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ee(t,e){return t?[...new Set([].concat(t,e))]:e}function Rr(t,e){return t?ye(Object.create(null),t,e):e}function Ei(t,e){return t?W(t)&&W(e)?[...new Set([...t,...e])]:ye(Object.create(null),wi(t),wi(e??{})):e}function Nc(t,e){if(!t)return e;if(!e)return t;const r=ye(Object.create(null),t);for(const s in e)r[s]=Ee(t[s],e[s]);return r}function Sa(){return{app:null,config:{isNativeTag:jo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let $c=0;function Lc(t,e){return function(s,n=null){K(s)||(s=ye({},s)),n!=null&&!oe(n)&&(n=null);const i=Sa(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:$c++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:gu,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&K(u.install)?(o.add(u),u.install(c,...h)):K(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||ie(s,n);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(f,u,d),l=!0,c._container=u,u.__vue_app__=c,oi(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(it(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=pr;pr=c;try{return u()}finally{pr=h}}};return c}}let pr=null;const Uc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Me(e)}Modifiers`]||t[`${Wt(e)}Modifiers`];function Dc(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||ne;let n=r;const i=e.startsWith("update:"),o=i&&Uc(s,e.slice(7));o&&(o.trim&&(n=r.map(u=>pe(u)?u.trim():u)),o.number&&(n=r.map(El)));let a,l=s[a=Gs(e)]||s[a=Gs(Me(e))];!l&&i&&(l=s[a=Gs(Wt(e))]),l&&it(l,t,6,n);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,it(c,t,6,n)}}const Bc=new WeakMap;function Ea(t,e,r=!1){const s=r?Bc:e.emitsCache,n=s.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!K(t)){const l=c=>{const u=Ea(c,e,!0);u&&(a=!0,ye(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(oe(t)&&s.set(t,null),null):(W(i)?i.forEach(l=>o[l]=null):ye(o,i),oe(t)&&s.set(t,o),o)}function Bs(t,e){return!t||!xs(e)?!1:(e=e.slice(2).replace(/Once$/,""),Q(t,e[0].toLowerCase()+e.slice(1))||Q(t,Wt(e))||Q(t,e))}function Ci(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:m,inheritAttrs:v}=t,C=bs(t);let w,b;try{if(r.shapeFlag&4){const R=n||s,F=R;w=rt(c.call(F,R,u,h,f,d,m)),b=a}else{const R=e;w=rt(R.length>1?R(h,{attrs:a,slots:o,emit:l}):R(h,null)),b=e.props?a:Mc(a)}}catch(R){$r.length=0,Us(R,t,1),w=ie(mt)}let y=w;if(b&&v!==!1){const R=Object.keys(b),{shapeFlag:F}=y;R.length&&F&7&&(i&&R.some(Hn)&&(b=Fc(b,i)),y=mr(y,b,!1,!0))}return r.dirs&&(y=mr(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&ri(y,r.transition),w=y,bs(C),w}const Mc=t=>{let e;for(const r in t)(r==="class"||r==="style"||xs(r))&&((e||(e={}))[r]=t[r]);return e},Fc=(t,e)=>{const r={};for(const s in t)(!Hn(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function qc(t,e,r){const{props:s,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?Ai(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!Bs(c,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Ai(s,o,c):!0:!!o;return!1}function Ai(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(e[i]!==t[i]&&!Bs(r,i))return!0}return!1}function Vc({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const Ca={},Aa=()=>Object.create(Ca),Ta=t=>Object.getPrototypeOf(t)===Ca;function Hc(t,e,r,s=!1){const n={},i=Aa();t.propsDefaults=Object.create(null),Ra(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=s?n:ra(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Kc(t,e,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=Z(n),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Bs(t.emitsOptions,d))continue;const f=e[d];if(l)if(Q(i,d))f!==i[d]&&(i[d]=f,c=!0);else{const m=Me(d);n[m]=Tn(l,a,m,f,t,!1)}else f!==i[d]&&(i[d]=f,c=!0)}}}else{Ra(t,e,n,i)&&(c=!0);let u;for(const h in a)(!e||!Q(e,h)&&((u=Wt(h))===h||!Q(e,u)))&&(l?r&&(r[h]!==void 0||r[u]!==void 0)&&(n[h]=Tn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!Q(e,h))&&(delete i[h],c=!0)}c&&ht(t.attrs,"set","")}function Ra(t,e,r,s){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(kr(l))continue;const c=e[l];let u;n&&Q(n,u=Me(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:Bs(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=Z(r),c=a||ne;for(let u=0;u<i.length;u++){const h=i[u];r[h]=Tn(n,l,h,c[h],t,!Q(c,h))}}return o}function Tn(t,e,r,s,n,i){const o=t[r];if(o!=null){const a=Q(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&K(l)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const u=ss(n);s=c[r]=l.call(null,e),u()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Wt(r))&&(s=!0))}return s}const Wc=new WeakMap;function Oa(t,e,r=!1){const s=r?Wc:e.propsCache,n=s.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!K(t)){const u=h=>{l=!0;const[d,f]=Oa(h,e,!0);ye(o,d),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return oe(t)&&s.set(t,cr),cr;if(W(i))for(let u=0;u<i.length;u++){const h=Me(i[u]);Ti(h)&&(o[h]=ne)}else if(i)for(const u in i){const h=Me(u);if(Ti(h)){const d=i[u],f=o[h]=W(d)||K(d)?{type:d}:ye({},d),m=f.type;let v=!1,C=!0;if(W(m))for(let w=0;w<m.length;++w){const b=m[w],y=K(b)&&b.name;if(y==="Boolean"){v=!0;break}else y==="String"&&(C=!1)}else v=K(m)&&m.name==="Boolean";f[0]=v,f[1]=C,(v||Q(f,"default"))&&a.push(h)}}const c=[o,a];return oe(t)&&s.set(t,c),c}function Ti(t){return t[0]!=="$"&&!kr(t)}const si=t=>t==="_"||t==="_ctx"||t==="$stable",ni=t=>W(t)?t.map(rt):[rt(t)],Gc=(t,e,r)=>{if(e._n)return e;const s=Ir((...n)=>ni(e(...n)),r);return s._c=!1,s},ka=(t,e,r)=>{const s=t._ctx;for(const n in t){if(si(n))continue;const i=t[n];if(K(i))e[n]=Gc(n,i,s);else if(i!=null){const o=ni(i);e[n]=()=>o}}},Pa=(t,e)=>{const r=ni(e);t.slots.default=()=>r},xa=(t,e,r)=>{for(const s in e)(r||!si(s))&&(t[s]=e[s])},zc=(t,e,r)=>{const s=t.slots=Aa();if(t.vnode.shapeFlag&32){const n=e._;n?(xa(s,e,r),r&&Do(s,"_",n,!0)):ka(e,s)}else e&&Pa(t,e)},Jc=(t,e,r)=>{const{vnode:s,slots:n}=t;let i=!0,o=ne;if(s.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:xa(n,e,r):(i=!e.$stable,ka(e,n)),o=e}else e&&(Pa(t,e),o={default:1});if(i)for(const a in n)!si(a)&&o[a]==null&&delete n[a]},$e=eu;function Yc(t){return Zc(t)}function Zc(t,e){const r=$s();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=st,insertStaticContent:m}=t,v=(p,g,_,S=null,T=null,E=null,x=void 0,P=null,k=!!g.dynamicChildren)=>{if(p===g)return;p&&!Er(p,g)&&(S=A(p),Oe(p,T,E,!0),p=null),g.patchFlag===-2&&(k=!1,g.dynamicChildren=null);const{type:O,ref:D,shapeFlag:j}=g;switch(O){case Ms:C(p,g,_,S);break;case mt:w(p,g,_,S);break;case tn:p==null&&b(g,_,S,x);break;case Te:jt(p,g,_,S,T,E,x,P,k);break;default:j&1?F(p,g,_,S,T,E,x,P,k):j&6?Je(p,g,_,S,T,E,x,P,k):(j&64||j&128)&&O.process(p,g,_,S,T,E,x,P,k,L)}D!=null&&T?jr(D,p&&p.ref,E,g||p,!g):D==null&&p&&p.ref!=null&&jr(p.ref,null,E,p,!0)},C=(p,g,_,S)=>{if(p==null)s(g.el=a(g.children),_,S);else{const T=g.el=p.el;g.children!==p.children&&c(T,g.children)}},w=(p,g,_,S)=>{p==null?s(g.el=l(g.children||""),_,S):g.el=p.el},b=(p,g,_,S)=>{[p.el,p.anchor]=m(p.children,g,_,S,p.el,p.anchor)},y=({el:p,anchor:g},_,S)=>{let T;for(;p&&p!==g;)T=d(p),s(p,_,S),p=T;s(g,_,S)},R=({el:p,anchor:g})=>{let _;for(;p&&p!==g;)_=d(p),n(p),p=_;n(g)},F=(p,g,_,S,T,E,x,P,k)=>{if(g.type==="svg"?x="svg":g.type==="math"&&(x="mathml"),p==null)V(g,_,S,T,E,x,P,k);else{const O=p.el&&p.el._isVueCE?p.el:null;try{O&&O._beginPatch(),ge(p,g,T,E,x,P,k)}finally{O&&O._endPatch()}}},V=(p,g,_,S,T,E,x,P)=>{let k,O;const{props:D,shapeFlag:j,transition:U,dirs:q}=p;if(k=p.el=o(p.type,E,D&&D.is,D),j&8?u(k,p.children):j&16&&ue(p.children,k,null,S,T,en(p,E),x,P),q&&$t(p,null,S,"created"),H(k,p,p.scopeId,x,S),D){for(const te in D)te!=="value"&&!kr(te)&&i(k,te,null,D[te],E,S);"value"in D&&i(k,"value",null,D.value,E),(O=D.onVnodeBeforeMount)&&et(O,S,p)}q&&$t(p,null,S,"beforeMount");const z=Qc(T,U);z&&U.beforeEnter(k),s(k,g,_),((O=D&&D.onVnodeMounted)||z||q)&&$e(()=>{O&&et(O,S,p),z&&U.enter(k),q&&$t(p,null,S,"mounted")},T)},H=(p,g,_,S,T)=>{if(_&&f(p,_),S)for(let E=0;E<S.length;E++)f(p,S[E]);if(T){let E=T.subTree;if(g===E||$a(E.type)&&(E.ssContent===g||E.ssFallback===g)){const x=T.vnode;H(p,x,x.scopeId,x.slotScopeIds,T.parent)}}},ue=(p,g,_,S,T,E,x,P,k=0)=>{for(let O=k;O<p.length;O++){const D=p[O]=P?At(p[O]):rt(p[O]);v(null,D,g,_,S,T,E,x,P)}},ge=(p,g,_,S,T,E,x)=>{const P=g.el=p.el;let{patchFlag:k,dynamicChildren:O,dirs:D}=g;k|=p.patchFlag&16;const j=p.props||ne,U=g.props||ne;let q;if(_&&Lt(_,!1),(q=U.onVnodeBeforeUpdate)&&et(q,_,g,p),D&&$t(g,p,_,"beforeUpdate"),_&&Lt(_,!0),(j.innerHTML&&U.innerHTML==null||j.textContent&&U.textContent==null)&&u(P,""),O?ze(p.dynamicChildren,O,P,_,S,en(g,T),E):x||J(p,g,P,null,_,S,en(g,T),E,!1),k>0){if(k&16)wt(P,j,U,_,T);else if(k&2&&j.class!==U.class&&i(P,"class",null,U.class,T),k&4&&i(P,"style",j.style,U.style,T),k&8){const z=g.dynamicProps;for(let te=0;te<z.length;te++){const X=z[te],ke=j[X],Pe=U[X];(Pe!==ke||X==="value")&&i(P,X,ke,Pe,T,_)}}k&1&&p.children!==g.children&&u(P,g.children)}else!x&&O==null&&wt(P,j,U,_,T);((q=U.onVnodeUpdated)||D)&&$e(()=>{q&&et(q,_,g,p),D&&$t(g,p,_,"updated")},S)},ze=(p,g,_,S,T,E,x)=>{for(let P=0;P<g.length;P++){const k=p[P],O=g[P],D=k.el&&(k.type===Te||!Er(k,O)||k.shapeFlag&198)?h(k.el):_;v(k,O,D,null,S,T,E,x,!0)}},wt=(p,g,_,S,T)=>{if(g!==_){if(g!==ne)for(const E in g)!kr(E)&&!(E in _)&&i(p,E,g[E],null,T,S);for(const E in _){if(kr(E))continue;const x=_[E],P=g[E];x!==P&&E!=="value"&&i(p,E,P,x,T,S)}"value"in _&&i(p,"value",g.value,_.value,T)}},jt=(p,g,_,S,T,E,x,P,k)=>{const O=g.el=p?p.el:a(""),D=g.anchor=p?p.anchor:a("");let{patchFlag:j,dynamicChildren:U,slotScopeIds:q}=g;q&&(P=P?P.concat(q):q),p==null?(s(O,_,S),s(D,_,S),ue(g.children||[],_,D,T,E,x,P,k)):j>0&&j&64&&U&&p.dynamicChildren&&p.dynamicChildren.length===U.length?(ze(p.dynamicChildren,U,_,T,E,x,P),(g.key!=null||T&&g===T.subTree)&&Ia(p,g,!0)):J(p,g,_,D,T,E,x,P,k)},Je=(p,g,_,S,T,E,x,P,k)=>{g.slotScopeIds=P,p==null?g.shapeFlag&512?T.ctx.activate(g,_,S,x,k):wr(g,_,S,T,E,x,k):Gt(p,g,k)},wr=(p,g,_,S,T,E,x)=>{const P=p.component=au(p,S,T);if(ga(p)&&(P.ctx.renderer=L),cu(P,!1,x),P.asyncDep){if(T&&T.registerDep(P,me,x),!p.el){const k=P.subTree=ie(mt);w(null,k,g,_),p.placeholder=k.el}}else me(P,p,g,_,T,E,x)},Gt=(p,g,_)=>{const S=g.component=p.component;if(qc(p,g,_))if(S.asyncDep&&!S.asyncResolved){ee(S,g,_);return}else S.next=g,S.update();else g.el=p.el,S.vnode=g},me=(p,g,_,S,T,E,x)=>{const P=()=>{if(p.isMounted){let{next:j,bu:U,u:q,parent:z,vnode:te}=p;{const Qe=ja(p);if(Qe){j&&(j.el=te.el,ee(p,j,x)),Qe.asyncDep.then(()=>{p.isUnmounted||P()});return}}let X=j,ke;Lt(p,!1),j?(j.el=te.el,ee(p,j,x)):j=te,U&&zs(U),(ke=j.props&&j.props.onVnodeBeforeUpdate)&&et(ke,z,j,te),Lt(p,!0);const Pe=Ci(p),Ze=p.subTree;p.subTree=Pe,v(Ze,Pe,h(Ze.el),A(Ze),p,T,E),j.el=Pe.el,X===null&&Vc(p,Pe.el),q&&$e(q,T),(ke=j.props&&j.props.onVnodeUpdated)&&$e(()=>et(ke,z,j,te),T)}else{let j;const{el:U,props:q}=g,{bm:z,m:te,parent:X,root:ke,type:Pe}=p,Ze=fr(g);Lt(p,!1),z&&zs(z),!Ze&&(j=q&&q.onVnodeBeforeMount)&&et(j,X,g),Lt(p,!0);{ke.ce&&ke.ce._def.shadowRoot!==!1&&ke.ce._injectChildStyle(Pe);const Qe=p.subTree=Ci(p);v(null,Qe,_,S,p,T,E),g.el=Qe.el}if(te&&$e(te,T),!Ze&&(j=q&&q.onVnodeMounted)){const Qe=g;$e(()=>et(j,X,Qe),T)}(g.shapeFlag&256||X&&fr(X.vnode)&&X.vnode.shapeFlag&256)&&p.a&&$e(p.a,T),p.isMounted=!0,g=_=S=null}};p.scope.on();const k=p.effect=new qo(P);p.scope.off();const O=p.update=k.run.bind(k),D=p.job=k.runIfDirty.bind(k);D.i=p,D.id=p.uid,k.scheduler=()=>ti(D),Lt(p,!0),O()},ee=(p,g,_)=>{g.component=p;const S=p.vnode.props;p.vnode=g,p.next=null,Kc(p,g.props,S,_),Jc(p,g.children,_),ft(),_i(p),pt()},J=(p,g,_,S,T,E,x,P,k=!1)=>{const O=p&&p.children,D=p?p.shapeFlag:0,j=g.children,{patchFlag:U,shapeFlag:q}=g;if(U>0){if(U&128){bt(O,j,_,S,T,E,x,P,k);return}else if(U&256){ot(O,j,_,S,T,E,x,P,k);return}}q&8?(D&16&&Be(O,T,E),j!==O&&u(_,j)):D&16?q&16?bt(O,j,_,S,T,E,x,P,k):Be(O,T,E,!0):(D&8&&u(_,""),q&16&&ue(j,_,S,T,E,x,P,k))},ot=(p,g,_,S,T,E,x,P,k)=>{p=p||cr,g=g||cr;const O=p.length,D=g.length,j=Math.min(O,D);let U;for(U=0;U<j;U++){const q=g[U]=k?At(g[U]):rt(g[U]);v(p[U],q,_,null,T,E,x,P,k)}O>D?Be(p,T,E,!0,!1,j):ue(g,_,S,T,E,x,P,k,j)},bt=(p,g,_,S,T,E,x,P,k)=>{let O=0;const D=g.length;let j=p.length-1,U=D-1;for(;O<=j&&O<=U;){const q=p[O],z=g[O]=k?At(g[O]):rt(g[O]);if(Er(q,z))v(q,z,_,null,T,E,x,P,k);else break;O++}for(;O<=j&&O<=U;){const q=p[j],z=g[U]=k?At(g[U]):rt(g[U]);if(Er(q,z))v(q,z,_,null,T,E,x,P,k);else break;j--,U--}if(O>j){if(O<=U){const q=U+1,z=q<D?g[q].el:S;for(;O<=U;)v(null,g[O]=k?At(g[O]):rt(g[O]),_,z,T,E,x,P,k),O++}}else if(O>U)for(;O<=j;)Oe(p[O],T,E,!0),O++;else{const q=O,z=O,te=new Map;for(O=z;O<=U;O++){const je=g[O]=k?At(g[O]):rt(g[O]);je.key!=null&&te.set(je.key,O)}let X,ke=0;const Pe=U-z+1;let Ze=!1,Qe=0;const br=new Array(Pe);for(O=0;O<Pe;O++)br[O]=0;for(O=q;O<=j;O++){const je=p[O];if(ke>=Pe){Oe(je,T,E,!0);continue}let Xe;if(je.key!=null)Xe=te.get(je.key);else for(X=z;X<=U;X++)if(br[X-z]===0&&Er(je,g[X])){Xe=X;break}Xe===void 0?Oe(je,T,E,!0):(br[Xe-z]=O+1,Xe>=Qe?Qe=Xe:Ze=!0,v(je,g[Xe],_,null,T,E,x,P,k),ke++)}const hi=Ze?Xc(br):cr;for(X=hi.length-1,O=Pe-1;O>=0;O--){const je=z+O,Xe=g[je],di=g[je+1],fi=je+1<D?di.el||Na(di):S;br[O]===0?v(null,Xe,_,fi,T,E,x,P,k):Ze&&(X<0||O!==hi[X]?Ye(Xe,_,fi,2):X--)}}},Ye=(p,g,_,S,T=null)=>{const{el:E,type:x,transition:P,children:k,shapeFlag:O}=p;if(O&6){Ye(p.component.subTree,g,_,S);return}if(O&128){p.suspense.move(g,_,S);return}if(O&64){x.move(p,g,_,L);return}if(x===Te){s(E,g,_);for(let j=0;j<k.length;j++)Ye(k[j],g,_,S);s(p.anchor,g,_);return}if(x===tn){y(p,g,_);return}if(S!==2&&O&1&&P)if(S===0)P.beforeEnter(E),s(E,g,_),$e(()=>P.enter(E),T);else{const{leave:j,delayLeave:U,afterLeave:q}=P,z=()=>{p.ctx.isUnmounted?n(E):s(E,g,_)},te=()=>{E._isLeaving&&E[dc](!0),j(E,()=>{z(),q&&q()})};U?U(E,z,te):te()}else s(E,g,_)},Oe=(p,g,_,S=!1,T=!1)=>{const{type:E,props:x,ref:P,children:k,dynamicChildren:O,shapeFlag:D,patchFlag:j,dirs:U,cacheIndex:q}=p;if(j===-2&&(T=!1),P!=null&&(ft(),jr(P,null,_,p,!0),pt()),q!=null&&(g.renderCache[q]=void 0),D&256){g.ctx.deactivate(p);return}const z=D&1&&U,te=!fr(p);let X;if(te&&(X=x&&x.onVnodeBeforeUnmount)&&et(X,g,p),D&6)Nt(p.component,_,S);else{if(D&128){p.suspense.unmount(_,S);return}z&&$t(p,null,g,"beforeUnmount"),D&64?p.type.remove(p,g,_,L,S):O&&!O.hasOnce&&(E!==Te||j>0&&j&64)?Be(O,g,_,!1,!0):(E===Te&&j&384||!T&&D&16)&&Be(k,g,_),S&&zt(p)}(te&&(X=x&&x.onVnodeUnmounted)||z)&&$e(()=>{X&&et(X,g,p),z&&$t(p,null,g,"unmounted")},_)},zt=p=>{const{type:g,el:_,anchor:S,transition:T}=p;if(g===Te){Jt(_,S);return}if(g===tn){R(p);return}const E=()=>{n(_),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(p.shapeFlag&1&&T&&!T.persisted){const{leave:x,delayLeave:P}=T,k=()=>x(_,E);P?P(p.el,E,k):k()}else E()},Jt=(p,g)=>{let _;for(;p!==g;)_=d(p),n(p),p=_;n(g)},Nt=(p,g,_)=>{const{bum:S,scope:T,job:E,subTree:x,um:P,m:k,a:O}=p;Ri(k),Ri(O),S&&zs(S),T.stop(),E&&(E.flags|=8,Oe(x,p,g,_)),P&&$e(P,g),$e(()=>{p.isUnmounted=!0},g)},Be=(p,g,_,S=!1,T=!1,E=0)=>{for(let x=E;x<p.length;x++)Oe(p[x],g,_,S,T)},A=p=>{if(p.shapeFlag&6)return A(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),_=g&&g[uc];return _?d(_):g};let N=!1;const I=(p,g,_)=>{let S;p==null?g._vnode&&(Oe(g._vnode,null,null,!0),S=g._vnode.component):v(g._vnode||null,p,g,null,null,null,_),g._vnode=p,N||(N=!0,_i(S),la(),N=!1)},L={p:v,um:Oe,m:Ye,r:zt,mt:wr,mc:ue,pc:J,pbc:ze,n:A,o:t};return{render:I,hydrate:void 0,createApp:Lc(I)}}function en({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Lt({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Qc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ia(t,e,r=!1){const s=t.children,n=e.children;if(W(s)&&W(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=At(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Ia(o,a)),a.type===Ms&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(t.type===Te?1:0)),a.type===mt&&!a.el&&(a.el=o.el)}}function Xc(t){const e=t.slice(),r=[0];let s,n,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(n=r[r.length-1],t[n]<c){e[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function ja(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ja(e)}function Ri(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function Na(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?Na(e.subTree):null}const $a=t=>t.__isSuspense;function eu(t,e){e&&e.pendingBranch?W(t)?e.effects.push(...t):e.effects.push(t):oc(t)}const Te=Symbol.for("v-fgt"),Ms=Symbol.for("v-txt"),mt=Symbol.for("v-cmt"),tn=Symbol.for("v-stc"),$r=[];let Ue=null;function De(t=!1){$r.push(Ue=t?null:[])}function tu(){$r.pop(),Ue=$r[$r.length-1]||null}let Vr=1;function Cs(t,e=!1){Vr+=t,t<0&&Ue&&e&&(Ue.hasOnce=!0)}function La(t){return t.dynamicChildren=Vr>0?Ue||cr:null,tu(),Vr>0&&Ue&&Ue.push(t),t}function dt(t,e,r,s,n,i){return La(fe(t,e,r,s,n,i,!0))}function As(t,e,r,s,n){return La(ie(t,e,r,s,n,!0))}function Hr(t){return t?t.__v_isVNode===!0:!1}function Er(t,e){return t.type===e.type&&t.key===e.key}const Ua=({key:t})=>t??null,ms=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?pe(t)||Se(t)||K(t)?{i:Re,r:t,k:e,f:!!r}:t:null);function fe(t,e=null,r=null,s=0,n=null,i=t===Te?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ua(e),ref:e&&ms(e),scopeId:ua,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Re};return a?(ii(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=pe(r)?8:16),Vr>0&&!o&&Ue&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ue.push(l),l}const ie=ru;function ru(t,e=null,r=null,s=0,n=null,i=!1){if((!t||t===Tc)&&(t=mt),Hr(t)){const a=mr(t,e,!0);return r&&ii(a,r),Vr>0&&!i&&Ue&&(a.shapeFlag&6?Ue[Ue.indexOf(t)]=a:Ue.push(a)),a.patchFlag=-2,a}if(pu(t)&&(t=t.__vccOpts),e){e=su(e);let{class:a,style:l}=e;a&&!pe(a)&&(e.class=ts(a)),oe(l)&&(ei(l)&&!W(l)&&(l=ye({},l)),e.style=es(l))}const o=pe(t)?1:$a(t)?128:hc(t)?64:oe(t)?4:K(t)?2:0;return fe(t,e,r,s,n,o,i,!0)}function su(t){return t?ei(t)||Ta(t)?ye({},t):t:null}function mr(t,e,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?nu(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Ua(c),ref:e&&e.ref?r&&i?W(i)?i.concat(ms(e)):[i,ms(e)]:ms(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Te?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mr(t.ssContent),ssFallback:t.ssFallback&&mr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&ri(u,l.clone(u)),u}function Ts(t=" ",e=0){return ie(Ms,null,t,e)}function rn(t="",e=!1){return e?(De(),As(mt,null,t)):ie(mt,null,t)}function rt(t){return t==null||typeof t=="boolean"?ie(mt):W(t)?ie(Te,null,t.slice()):Hr(t)?At(t):ie(Ms,null,String(t))}function At(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mr(t)}function ii(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(W(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),ii(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!Ta(e)?e._ctx=Re:n===3&&Re&&(Re.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else K(e)?(e={default:e,_ctx:Re},r=32):(e=String(e),s&64?(r=16,e=[Ts(e)]):r=8);t.children=e,t.shapeFlag|=r}function nu(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=ts([e.class,s.class]));else if(n==="style")e.style=es([e.style,s.style]);else if(xs(n)){const i=e[n],o=s[n];o&&i!==o&&!(W(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=s[n])}return e}function et(t,e,r,s=null){it(t,e,7,[r,s])}const iu=Sa();let ou=0;function au(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||iu,i={uid:ou++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oa(s,n),emitsOptions:Ea(s,n),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:s.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Dc.bind(null,i),t.ce&&t.ce(i),i}let be=null;const lu=()=>be||Re;let Rs,Rn;{const t=$s(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Rs=e("__VUE_INSTANCE_SETTERS__",r=>be=r),Rn=e("__VUE_SSR_SETTERS__",r=>Kr=r)}const ss=t=>{const e=be;return Rs(t),t.scope.on(),()=>{t.scope.off(),Rs(e)}},Oi=()=>{be&&be.scope.off(),Rs(null)};function Da(t){return t.vnode.shapeFlag&4}let Kr=!1;function cu(t,e=!1,r=!1){e&&Rn(e);const{props:s,children:n}=t.vnode,i=Da(t);Hc(t,s,i,e),zc(t,n,r||e);const o=i?uu(t,e):void 0;return e&&Rn(!1),o}function uu(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,kc);const{setup:s}=r;if(s){ft();const n=t.setupContext=s.length>1?du(t):null,i=ss(t),o=rs(s,t,0,[t.props,n]),a=$o(o);if(pt(),i(),(a||t.sp)&&!fr(t)&&pa(t),a){if(o.then(Oi,Oi),e)return o.then(l=>{ki(t,l)}).catch(l=>{Us(l,t,0)});t.asyncDep=o}else ki(t,o)}else Ba(t)}function ki(t,e,r){K(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:oe(e)&&(t.setupState=na(e)),Ba(t)}function Ba(t,e,r){const s=t.type;t.render||(t.render=s.render||st);{const n=ss(t);ft();try{Pc(t)}finally{pt(),n()}}}const hu={get(t,e){return we(t,"get",""),t[e]}};function du(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,hu),slots:t.slots,emit:t.emit,expose:e}}function oi(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(na(Yl(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Nr)return Nr[r](t)},has(e,r){return r in e||r in Nr}})):t.proxy}function fu(t,e=!0){return K(t)?t.displayName||t.name:t.name||e&&t.__name}function pu(t){return K(t)&&"__vccOpts"in t}const He=(t,e)=>tc(t,e,Kr);function Ma(t,e,r){try{Cs(-1);const s=arguments.length;return s===2?oe(e)&&!W(e)?Hr(e)?ie(t,null,[e]):ie(t,e):ie(t,null,e):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&Hr(r)&&(r=[r]),ie(t,e,r))}finally{Cs(1)}}const gu="3.5.27";let On;const Pi=typeof window<"u"&&window.trustedTypes;if(Pi)try{On=Pi.createPolicy("vue",{createHTML:t=>t})}catch{}const Fa=On?t=>On.createHTML(t):t=>t,mu="http://www.w3.org/2000/svg",_u="http://www.w3.org/1998/Math/MathML",ct=typeof document<"u"?document:null,xi=ct&&ct.createElement("template"),vu={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?ct.createElementNS(mu,t):e==="mathml"?ct.createElementNS(_u,t):r?ct.createElement(t,{is:r}):ct.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>ct.createTextNode(t),createComment:t=>ct.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ct.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,i){const o=r?r.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{xi.innerHTML=Fa(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=xi.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},yu=Symbol("_vtc");function wu(t,e,r){const s=t[yu];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Ii=Symbol("_vod"),bu=Symbol("_vsh"),Su=Symbol(""),Eu=/(?:^|;)\s*display\s*:/;function Cu(t,e,r){const s=t.style,n=pe(r);let i=!1;if(r&&!n){if(e)if(pe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&_s(s,a,"")}else for(const o in e)r[o]==null&&_s(s,o,"");for(const o in r)o==="display"&&(i=!0),_s(s,o,r[o])}else if(n){if(e!==r){const o=s[Su];o&&(r+=";"+o),s.cssText=r,i=Eu.test(r)}}else e&&t.removeAttribute("style");Ii in t&&(t[Ii]=i?s.display:"",t[bu]&&(s.display="none"))}const ji=/\s*!important$/;function _s(t,e,r){if(W(r))r.forEach(s=>_s(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=Au(t,e);ji.test(r)?t.setProperty(Wt(s),r.replace(ji,""),"important"):t[s]=r}}const Ni=["Webkit","Moz","ms"],sn={};function Au(t,e){const r=sn[e];if(r)return r;let s=Me(e);if(s!=="filter"&&s in t)return sn[e]=s;s=Ns(s);for(let n=0;n<Ni.length;n++){const i=Ni[n]+s;if(i in t)return sn[e]=i}return e}const $i="http://www.w3.org/1999/xlink";function Li(t,e,r,s,n,i=kl(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS($i,e.slice(6,e.length)):t.setAttributeNS($i,e,r):r==null||i&&!Bo(r)?t.removeAttribute(e):t.setAttribute(e,i?"":_t(r)?String(r):r)}function Ui(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Fa(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=Bo(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(n||e)}function Tu(t,e,r,s){t.addEventListener(e,r,s)}function Ru(t,e,r,s){t.removeEventListener(e,r,s)}const Di=Symbol("_vei");function Ou(t,e,r,s,n=null){const i=t[Di]||(t[Di]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=ku(e);if(s){const c=i[e]=Iu(s,n);Tu(t,a,c,l)}else o&&(Ru(t,a,o,l),i[e]=void 0)}}const Bi=/(?:Once|Passive|Capture)$/;function ku(t){let e;if(Bi.test(t)){e={};let s;for(;s=t.match(Bi);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Wt(t.slice(2)),e]}let nn=0;const Pu=Promise.resolve(),xu=()=>nn||(Pu.then(()=>nn=0),nn=Date.now());function Iu(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;it(ju(s,r.value),e,5,[s])};return r.value=t,r.attached=xu(),r}function ju(t,e){if(W(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const Mi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Nu=(t,e,r,s,n,i)=>{const o=n==="svg";e==="class"?wu(t,s,o):e==="style"?Cu(t,r,s):xs(e)?Hn(e)||Ou(t,e,r,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$u(t,e,s,o))?(Ui(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Li(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!pe(s))?Ui(t,Me(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Li(t,e,s,o))};function $u(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Mi(e)&&K(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Mi(e)&&pe(r)?!1:e in t}const Lu=ye({patchProp:Nu},vu);let Fi;function Uu(){return Fi||(Fi=Yc(Lu))}const Du=((...t)=>{const e=Uu().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=Mu(s);if(!n)return;const i=e._component;!K(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,Bu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e});function Bu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Mu(t){return pe(t)?document.querySelector(t):t}const nr=typeof document<"u";function qa(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Fu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&qa(t.default)}const Y=Object.assign;function on(t,e){const r={};for(const s in e){const n=e[s];r[s]=Ge(n)?n.map(t):t(n)}return r}const Lr=()=>{},Ge=Array.isArray;function qi(t,e){const r={};for(const s in t)r[s]=s in e?e[s]:t[s];return r}const Va=/#/g,qu=/&/g,Vu=/\//g,Hu=/=/g,Ku=/\?/g,Ha=/\+/g,Wu=/%5B/g,Gu=/%5D/g,Ka=/%5E/g,zu=/%60/g,Wa=/%7B/g,Ju=/%7C/g,Ga=/%7D/g,Yu=/%20/g;function ai(t){return t==null?"":encodeURI(""+t).replace(Ju,"|").replace(Wu,"[").replace(Gu,"]")}function Zu(t){return ai(t).replace(Wa,"{").replace(Ga,"}").replace(Ka,"^")}function kn(t){return ai(t).replace(Ha,"%2B").replace(Yu,"+").replace(Va,"%23").replace(qu,"%26").replace(zu,"`").replace(Wa,"{").replace(Ga,"}").replace(Ka,"^")}function Qu(t){return kn(t).replace(Hu,"%3D")}function Xu(t){return ai(t).replace(Va,"%23").replace(Ku,"%3F")}function eh(t){return Xu(t).replace(Vu,"%2F")}function Wr(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const th=/\/$/,rh=t=>t.replace(th,"");function an(t,e,r="/"){let s,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),i=e.slice(l,a>0?a:e.length),n=t(i.slice(1))),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=oh(s??e,r),{fullPath:s+i+o,path:s,query:n,hash:Wr(o)}}function sh(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Vi(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function nh(t,e,r){const s=e.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&_r(e.matched[s],r.matched[n])&&za(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function _r(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function za(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!ih(t[r],e[r]))return!1;return!0}function ih(t,e){return Ge(t)?Hi(t,e):Ge(e)?Hi(e,t):t?.valueOf()===e?.valueOf()}function Hi(t,e){return Ge(e)?t.length===e.length&&t.every((r,s)=>r===e[s]):t.length===1&&t[0]===e}function oh(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),s=t.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let i=r.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const St={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Pn=(function(t){return t.pop="pop",t.push="push",t})({}),ln=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function ah(t){if(!t)if(nr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),rh(t)}const lh=/^[^#]+#/;function ch(t,e){return t.replace(lh,"#")+e}function uh(t,e){const r=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-r.left-(e.left||0),top:s.top-r.top-(e.top||0)}}const Fs=()=>({left:window.scrollX,top:window.scrollY});function hh(t){let e;if("el"in t){const r=t.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=uh(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ki(t,e){return(history.state?history.state.position-e:-1)+t}const xn=new Map;function dh(t,e){xn.set(t,e)}function fh(t){const e=xn.get(t);return xn.delete(t),e}function ph(t){return typeof t=="string"||t&&typeof t=="object"}function Ja(t){return typeof t=="string"||typeof t=="symbol"}let ae=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const Ya=Symbol("");ae.MATCHER_NOT_FOUND+"",ae.NAVIGATION_GUARD_REDIRECT+"",ae.NAVIGATION_ABORTED+"",ae.NAVIGATION_CANCELLED+"",ae.NAVIGATION_DUPLICATED+"";function vr(t,e){return Y(new Error,{type:t,[Ya]:!0},e)}function lt(t,e){return t instanceof Error&&Ya in t&&(e==null||!!(t.type&e))}const gh=["params","query","hash"];function mh(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of gh)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function _h(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const n=r[s].replace(Ha," "),i=n.indexOf("="),o=Wr(i<0?n:n.slice(0,i)),a=i<0?null:Wr(n.slice(i+1));if(o in e){let l=e[o];Ge(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Wi(t){let e="";for(let r in t){const s=t[r];if(r=Qu(r),s==null){s!==void 0&&(e+=(e.length?"&":"")+r);continue}(Ge(s)?s.map(n=>n&&kn(n)):[s&&kn(s)]).forEach(n=>{n!==void 0&&(e+=(e.length?"&":"")+r,n!=null&&(e+="="+n))})}return e}function vh(t){const e={};for(const r in t){const s=t[r];s!==void 0&&(e[r]=Ge(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return e}const yh=Symbol(""),Gi=Symbol(""),li=Symbol(""),Za=Symbol(""),In=Symbol("");function Cr(){let t=[];function e(s){return t.push(s),()=>{const n=t.indexOf(s);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Tt(t,e,r,s,n,i=o=>o()){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(vr(ae.NAVIGATION_ABORTED,{from:r,to:e})):d instanceof Error?l(d):ph(d)?l(vr(ae.NAVIGATION_GUARD_REDIRECT,{from:e,to:d})):(o&&s.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>t.call(s&&s.instances[n],e,r,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function cn(t,e,r,s,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(qa(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Tt(c,r,s,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Fu(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&Tt(d,r,s,o,a,n)()}))}}return i}function wh(t,e){const r=[],s=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>_r(c,a))?s.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>_r(c,l))||n.push(l))}return[r,s,n]}let bh=()=>location.protocol+"//"+location.host;function Qa(t,e){const{pathname:r,search:s,hash:n}=e,i=t.indexOf("#");if(i>-1){let o=n.includes(t.slice(i))?t.slice(i).length:1,a=n.slice(o);return a[0]!=="/"&&(a="/"+a),Vi(a,"")}return Vi(r,t)+s+n}function Sh(t,e,r,s){let n=[],i=[],o=null;const a=({state:d})=>{const f=Qa(t,location),m=r.value,v=e.value;let C=0;if(d){if(r.value=f,e.value=d,o&&o===m){o=null;return}C=v?d.position-v.position:0}else s(f);n.forEach(w=>{w(r.value,m,{delta:C,type:Pn.pop,direction:C?C>0?ln.forward:ln.back:ln.unknown})})};function l(){o=r.value}function c(d){n.push(d);const f=()=>{const m=n.indexOf(d);m>-1&&n.splice(m,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(Y({},d.state,{scroll:Fs()}),"")}}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function zi(t,e,r,s=!1,n=!1){return{back:t,current:e,forward:r,replaced:s,position:window.history.length,scroll:n?Fs():null}}function Eh(t){const{history:e,location:r}=window,s={value:Qa(t,r)},n={value:e.state};n.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),d=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+l:bh()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),n.value=c}catch(f){console.error(f),r[u?"replace":"assign"](d)}}function o(l,c){i(l,Y({},e.state,zi(n.value.back,l,n.value.forward,!0),c,{position:n.value.position}),!0),s.value=l}function a(l,c){const u=Y({},n.value,e.state,{forward:l,scroll:Fs()});i(u.current,u,!0),i(l,Y({},zi(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:n,push:a,replace:o}}function Ch(t){t=ah(t);const e=Eh(t),r=Sh(t,e.state,e.location,e.replace);function s(i,o=!0){o||r.pauseListeners(),history.go(i)}const n=Y({location:"",base:t,go:s,createHref:ch.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}let Vt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var he=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(he||{});const Ah={type:Vt.Static,value:""},Th=/[a-zA-Z0-9_]/;function Rh(t){if(!t)return[[]];if(t==="/")return[[Ah]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=he.Static,s=r;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(r===he.Static?i.push({type:Vt.Static,value:c}):r===he.Param||r===he.ParamRegExp||r===he.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Vt.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==he.ParamRegExp){s=r,r=he.EscapeNext;continue}switch(r){case he.Static:l==="/"?(c&&h(),o()):l===":"?(h(),r=he.Param):d();break;case he.EscapeNext:d(),r=s;break;case he.Param:l==="("?r=he.ParamRegExp:Th.test(l)?d():(h(),r=he.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case he.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=he.ParamRegExpEnd:u+=l;break;case he.ParamRegExpEnd:h(),r=he.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===he.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}const Ji="[^/]+?",Oh={sensitive:!1,strict:!1,start:!0,end:!0};var Ce=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(Ce||{});const kh=/[.+*?^${}()[\]/\\]/g;function Ph(t,e){const r=Y({},Oh,e),s=[];let n=r.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[Ce.Root];r.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=Ce.Segment+(r.sensitive?Ce.BonusCaseSensitive:0);if(d.type===Vt.Static)h||(n+="/"),n+=d.value.replace(kh,"\\$&"),f+=Ce.Static;else if(d.type===Vt.Param){const{value:m,repeatable:v,optional:C,regexp:w}=d;i.push({name:m,repeatable:v,optional:C});const b=w||Ji;if(b!==Ji){f+=Ce.BonusCustomRegExp;try{`${b}`}catch(R){throw new Error(`Invalid custom RegExp for param "${m}" (${b}): `+R.message)}}let y=v?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;h||(y=C&&c.length<2?`(?:/${y})`:"/"+y),C&&(y+="?"),n+=y,f+=Ce.Dynamic,C&&(f+=Ce.BonusOptional),v&&(f+=Ce.BonusRepeatable),b===".*"&&(f+=Ce.BonusWildcard)}u.push(f)}s.push(u)}if(r.strict&&r.end){const c=s.length-1;s[c][s[c].length-1]+=Ce.BonusStrict}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",m=i[d-1];h[m.name]=f&&m.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===Vt.Static)u+=f.value;else if(f.type===Vt.Param){const{value:m,repeatable:v,optional:C}=f,w=m in c?c[m]:"";if(Ge(w)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const b=Ge(w)?w.join("/"):w;if(!b)if(C)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=b}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function xh(t,e){let r=0;for(;r<t.length&&r<e.length;){const s=e[r]-t[r];if(s)return s;r++}return t.length<e.length?t.length===1&&t[0]===Ce.Static+Ce.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Ce.Static+Ce.Segment?1:-1:0}function Xa(t,e){let r=0;const s=t.score,n=e.score;for(;r<s.length&&r<n.length;){const i=xh(s[r],n[r]);if(i)return i;r++}if(Math.abs(n.length-s.length)===1){if(Yi(s))return 1;if(Yi(n))return-1}return n.length-s.length}function Yi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ih={strict:!1,end:!0,sensitive:!1};function jh(t,e,r){const s=Ph(Rh(t.path),r),n=Y(s,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Nh(t,e){const r=[],s=new Map;e=qi(Ih,e);function n(h){return s.get(h)}function i(h,d,f){const m=!f,v=Qi(h);v.aliasOf=f&&f.record;const C=qi(e,h),w=[v];if("alias"in h){const R=typeof h.alias=="string"?[h.alias]:h.alias;for(const F of R)w.push(Qi(Y({},v,{components:f?f.record.components:v.components,path:F,aliasOf:f?f.record:v})))}let b,y;for(const R of w){const{path:F}=R;if(d&&F[0]!=="/"){const V=d.record.path,H=V[V.length-1]==="/"?"":"/";R.path=d.record.path+(F&&H+F)}if(b=jh(R,d,C),f?f.alias.push(b):(y=y||b,y!==b&&y.alias.push(b),m&&h.name&&!Xi(b)&&o(h.name)),el(b)&&l(b),v.children){const V=v.children;for(let H=0;H<V.length;H++)i(V[H],b,f&&f.children[H])}f=f||b}return y?()=>{o(y)}:Lr}function o(h){if(Ja(h)){const d=s.get(h);d&&(s.delete(h),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(h);d>-1&&(r.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){const d=Uh(h,r);r.splice(d,0,h),h.record.name&&!Xi(h)&&s.set(h.record.name,h)}function c(h,d){let f,m={},v,C;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw vr(ae.MATCHER_NOT_FOUND,{location:h});C=f.record.name,m=Y(Zi(d.params,f.keys.filter(y=>!y.optional).concat(f.parent?f.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),h.params&&Zi(h.params,f.keys.map(y=>y.name))),v=f.stringify(m)}else if(h.path!=null)v=h.path,f=r.find(y=>y.re.test(v)),f&&(m=f.parse(v),C=f.record.name);else{if(f=d.name?s.get(d.name):r.find(y=>y.re.test(d.path)),!f)throw vr(ae.MATCHER_NOT_FOUND,{location:h,currentLocation:d});C=f.record.name,m=Y({},d.params,h.params),v=f.stringify(m)}const w=[];let b=f;for(;b;)w.unshift(b.record),b=b.parent;return{name:C,path:v,params:m,matched:w,meta:Lh(w)}}t.forEach(h=>i(h));function u(){r.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function Zi(t,e){const r={};for(const s of e)s in t&&(r[s]=t[s]);return r}function Qi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:$h(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function $h(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const s in t.components)e[s]=typeof r=="object"?r[s]:r;return e}function Xi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Lh(t){return t.reduce((e,r)=>Y(e,r.meta),{})}function Uh(t,e){let r=0,s=e.length;for(;r!==s;){const i=r+s>>1;Xa(t,e[i])<0?s=i:r=i+1}const n=Dh(t);return n&&(s=e.lastIndexOf(n,s-1)),s}function Dh(t){let e=t;for(;e=e.parent;)if(el(e)&&Xa(t,e)===0)return e}function el({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function eo(t){const e=nt(li),r=nt(Za),s=He(()=>{const l=Ie(t.to);return e.resolve(l)}),n=He(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=r.matched;if(!u||!h.length)return-1;const d=h.findIndex(_r.bind(null,u));if(d>-1)return d;const f=to(l[c-2]);return c>1&&to(u)===f&&h[h.length-1].path!==f?h.findIndex(_r.bind(null,l[c-2])):d}),i=He(()=>n.value>-1&&Vh(r.params,s.value.params)),o=He(()=>n.value>-1&&n.value===r.matched.length-1&&za(r.params,s.value.params));function a(l={}){if(qh(l)){const c=e[Ie(t.replace)?"replace":"push"](Ie(t.to)).catch(Lr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:He(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function Bh(t){return t.length===1?t[0]:t}const Mh=fa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:eo,setup(t,{slots:e}){const r=Ls(eo(t)),{options:s}=nt(li),n=He(()=>({[ro(t.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[ro(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&Bh(e.default(r));return t.custom?i:Ma("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},i)}}}),Fh=Mh;function qh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Vh(t,e){for(const r in e){const s=e[r],n=t[r];if(typeof s=="string"){if(s!==n)return!1}else if(!Ge(n)||n.length!==s.length||s.some((i,o)=>i.valueOf()!==n[o].valueOf()))return!1}return!0}function to(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ro=(t,e,r)=>t??e??r,Hh=fa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const s=nt(In),n=He(()=>t.route||s.value),i=nt(Gi,0),o=He(()=>{let c=Ie(i);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=He(()=>n.value.matched[o.value]);Pt(Gi,He(()=>o.value+1)),Pt(yh,a),Pt(In,n);const l=Sn();return gs(()=>[l.value,a.value,t.name],([c,u,h],[d,f,m])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!_r(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return so(r.default,{Component:d,route:c});const f=h.props[u],m=f?f===!0?c.params:typeof f=="function"?f(c):f:null,C=Ma(d,Y({},m,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return so(r.default,{Component:C,route:c})||C}}});function so(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const tl=Hh;function Kh(t){const e=Nh(t.routes,t),r=t.parseQuery||_h,s=t.stringifyQuery||Wi,n=t.history,i=Cr(),o=Cr(),a=Cr(),l=Zl(St);let c=St;nr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=on.bind(null,A=>""+A),h=on.bind(null,eh),d=on.bind(null,Wr);function f(A,N){let I,L;return Ja(A)?(I=e.getRecordMatcher(A),L=N):L=A,e.addRoute(L,I)}function m(A){const N=e.getRecordMatcher(A);N&&e.removeRoute(N)}function v(){return e.getRoutes().map(A=>A.record)}function C(A){return!!e.getRecordMatcher(A)}function w(A,N){if(N=Y({},N||l.value),typeof A=="string"){const _=an(r,A,N.path),S=e.resolve({path:_.path},N),T=n.createHref(_.fullPath);return Y(_,S,{params:d(S.params),hash:Wr(_.hash),redirectedFrom:void 0,href:T})}let I;if(A.path!=null)I=Y({},A,{path:an(r,A.path,N.path).path});else{const _=Y({},A.params);for(const S in _)_[S]==null&&delete _[S];I=Y({},A,{params:h(_)}),N.params=h(N.params)}const L=e.resolve(I,N),G=A.hash||"";L.params=u(d(L.params));const p=sh(s,Y({},A,{hash:Zu(G),path:L.path})),g=n.createHref(p);return Y({fullPath:p,hash:G,query:s===Wi?vh(A.query):A.query||{}},L,{redirectedFrom:void 0,href:g})}function b(A){return typeof A=="string"?an(r,A,l.value.path):Y({},A)}function y(A,N){if(c!==A)return vr(ae.NAVIGATION_CANCELLED,{from:N,to:A})}function R(A){return H(A)}function F(A){return R(Y(b(A),{replace:!0}))}function V(A,N){const I=A.matched[A.matched.length-1];if(I&&I.redirect){const{redirect:L}=I;let G=typeof L=="function"?L(A,N):L;return typeof G=="string"&&(G=G.includes("?")||G.includes("#")?G=b(G):{path:G},G.params={}),Y({query:A.query,hash:A.hash,params:G.path!=null?{}:A.params},G)}}function H(A,N){const I=c=w(A),L=l.value,G=A.state,p=A.force,g=A.replace===!0,_=V(I,L);if(_)return H(Y(b(_),{state:typeof _=="object"?Y({},G,_.state):G,force:p,replace:g}),N||I);const S=I;S.redirectedFrom=N;let T;return!p&&nh(s,L,I)&&(T=vr(ae.NAVIGATION_DUPLICATED,{to:S,from:L}),Ye(L,L,!0,!1)),(T?Promise.resolve(T):ze(S,L)).catch(E=>lt(E)?lt(E,ae.NAVIGATION_GUARD_REDIRECT)?E:bt(E):J(E,S,L)).then(E=>{if(E){if(lt(E,ae.NAVIGATION_GUARD_REDIRECT))return H(Y({replace:g},b(E.to),{state:typeof E.to=="object"?Y({},G,E.to.state):G,force:p}),N||S)}else E=jt(S,L,!0,g,G);return wt(S,L,E),E})}function ue(A,N){const I=y(A,N);return I?Promise.reject(I):Promise.resolve()}function ge(A){const N=Jt.values().next().value;return N&&typeof N.runWithContext=="function"?N.runWithContext(A):A()}function ze(A,N){let I;const[L,G,p]=wh(A,N);I=cn(L.reverse(),"beforeRouteLeave",A,N);for(const _ of L)_.leaveGuards.forEach(S=>{I.push(Tt(S,A,N))});const g=ue.bind(null,A,N);return I.push(g),Be(I).then(()=>{I=[];for(const _ of i.list())I.push(Tt(_,A,N));return I.push(g),Be(I)}).then(()=>{I=cn(G,"beforeRouteUpdate",A,N);for(const _ of G)_.updateGuards.forEach(S=>{I.push(Tt(S,A,N))});return I.push(g),Be(I)}).then(()=>{I=[];for(const _ of p)if(_.beforeEnter)if(Ge(_.beforeEnter))for(const S of _.beforeEnter)I.push(Tt(S,A,N));else I.push(Tt(_.beforeEnter,A,N));return I.push(g),Be(I)}).then(()=>(A.matched.forEach(_=>_.enterCallbacks={}),I=cn(p,"beforeRouteEnter",A,N,ge),I.push(g),Be(I))).then(()=>{I=[];for(const _ of o.list())I.push(Tt(_,A,N));return I.push(g),Be(I)}).catch(_=>lt(_,ae.NAVIGATION_CANCELLED)?_:Promise.reject(_))}function wt(A,N,I){a.list().forEach(L=>ge(()=>L(A,N,I)))}function jt(A,N,I,L,G){const p=y(A,N);if(p)return p;const g=N===St,_=nr?history.state:{};I&&(L||g?n.replace(A.fullPath,Y({scroll:g&&_&&_.scroll},G)):n.push(A.fullPath,G)),l.value=A,Ye(A,N,I,g),bt()}let Je;function wr(){Je||(Je=n.listen((A,N,I)=>{if(!Nt.listening)return;const L=w(A),G=V(L,Nt.currentRoute.value);if(G){H(Y(G,{replace:!0,force:!0}),L).catch(Lr);return}c=L;const p=l.value;nr&&dh(Ki(p.fullPath,I.delta),Fs()),ze(L,p).catch(g=>lt(g,ae.NAVIGATION_ABORTED|ae.NAVIGATION_CANCELLED)?g:lt(g,ae.NAVIGATION_GUARD_REDIRECT)?(H(Y(b(g.to),{force:!0}),L).then(_=>{lt(_,ae.NAVIGATION_ABORTED|ae.NAVIGATION_DUPLICATED)&&!I.delta&&I.type===Pn.pop&&n.go(-1,!1)}).catch(Lr),Promise.reject()):(I.delta&&n.go(-I.delta,!1),J(g,L,p))).then(g=>{g=g||jt(L,p,!1),g&&(I.delta&&!lt(g,ae.NAVIGATION_CANCELLED)?n.go(-I.delta,!1):I.type===Pn.pop&&lt(g,ae.NAVIGATION_ABORTED|ae.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),wt(L,p,g)}).catch(Lr)}))}let Gt=Cr(),me=Cr(),ee;function J(A,N,I){bt(A);const L=me.list();return L.length?L.forEach(G=>G(A,N,I)):console.error(A),Promise.reject(A)}function ot(){return ee&&l.value!==St?Promise.resolve():new Promise((A,N)=>{Gt.add([A,N])})}function bt(A){return ee||(ee=!A,wr(),Gt.list().forEach(([N,I])=>A?I(A):N()),Gt.reset()),A}function Ye(A,N,I,L){const{scrollBehavior:G}=t;if(!nr||!G)return Promise.resolve();const p=!I&&fh(Ki(A.fullPath,0))||(L||!I)&&history.state&&history.state.scroll||null;return oa().then(()=>G(A,N,p)).then(g=>g&&hh(g)).catch(g=>J(g,A,N))}const Oe=A=>n.go(A);let zt;const Jt=new Set,Nt={currentRoute:l,listening:!0,addRoute:f,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:v,resolve:w,options:t,push:R,replace:F,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:me.add,isReady:ot,install(A){A.component("RouterLink",Fh),A.component("RouterView",tl),A.config.globalProperties.$router=Nt,Object.defineProperty(A.config.globalProperties,"$route",{enumerable:!0,get:()=>Ie(l)}),nr&&!zt&&l.value===St&&(zt=!0,R(n.location).catch(L=>{}));const N={};for(const L in St)Object.defineProperty(N,L,{get:()=>l.value[L],enumerable:!0});A.provide(li,Nt),A.provide(Za,ra(N)),A.provide(In,l);const I=A.unmount;Jt.add(A),A.unmount=function(){Jt.delete(A),Jt.size<1&&(c=St,Je&&Je(),Je=null,l.value=St,zt=!1,ee=!1),I()}}};function Be(A){return A.reduce((N,I)=>N.then(()=>ge(I)),Promise.resolve())}return Nt}function qs(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r}function Wh(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}const Gh=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ci extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class zh extends ci{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class no extends ci{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class io extends ci{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jn||(jn={}));class Jh{constructor(e,{headers:r={},customFetch:s,region:n=jn.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=Gh(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Wh(this,arguments,void 0,function*(r,s={}){var n;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=s;let d={},{region:f}=s;f||(f=this.region);const m=new URL(`${this.url}/${r}`);f&&f!=="any"&&(d["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let v;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(d["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(d["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let C=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(C=o.signal,u.addEventListener("abort",()=>o.abort())):C=o.signal);const w=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:v,signal:C}).catch(F=>{throw new zh(F)}),b=w.headers.get("x-relay-error");if(b&&b==="true")throw new no(w);if(!w.ok)throw new io(w);let y=((n=w.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),R;return y==="application/json"?R=yield w.json():y==="application/octet-stream"||y==="application/pdf"?R=yield w.blob():y==="text/event-stream"?R=w:y==="multipart/form-data"?R=yield w.formData():R=yield w.text(),{data:R,error:null,response:w}}catch(a){return{data:null,error:a,response:a instanceof io||a instanceof no?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Yh=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Zh=class{constructor(t){var e,r,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(s=t.urlLengthLimit)!==null&&s!==void 0?s:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,u=i.statusText;if(i.ok){var h,d;if(r.method!=="HEAD"){var f;const w=await i.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=w:a=JSON.parse(w))}const v=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");v&&C&&C.length>1&&(l=parseInt(C[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var m;const v=await i.text();try{o=JSON.parse(v),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,u="OK")}catch{i.status===404&&v===""?(c=204,u="No Content"):o={message:v}}if(o&&r.isMaybeSingle&&(!(o==null||(m=o.details)===null||m===void 0)&&m.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&r.shouldThrowOnError)throw new Yh(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(i=>{var o;let a="",l="",c="";const u=i?.cause;if(u){var h,d,f,m;const w=(h=u?.message)!==null&&h!==void 0?h:"",b=(d=u?.code)!==null&&d!==void 0?d:"";a=`${(f=i?.name)!==null&&f!==void 0?f:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(m=u?.name)!==null&&m!==void 0?m:"Error"}: ${w}`,b&&(a+=` (${b})`),u?.stack&&(a+=`
${u.stack}`)}else{var v;a=(v=i?.stack)!==null&&v!==void 0?v:""}const C=this.url.toString().length;return i?.name==="AbortError"||i?.code==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",C>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${C} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(u?.name==="HeadersOverflowError"||u?.code==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",C>this.urlLengthLimit&&(l+=`. Your request URL is ${C} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:a,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),n.then(t,e)}returns(){return this}overrideTypes(){return this}},Qh=class extends Zh{select(t){let e=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const oo=new RegExp("[,()]");var ir=class extends Qh{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&oo.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(s=>typeof s=="string"&&oo.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:s}={}){let n="";s==="plain"?n="pl":s==="phrase"?n="ph":s==="websearch"&&(n="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${n}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},Xh=class{constructor(t,{headers:e={},schema:r,fetch:s,urlLengthLimit:n=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=s,this.urlLengthLimit=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:s}=e??{},n=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),s&&l.append("Prefer",`count=${s}`),new ir({method:n,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var s;const n="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new ir({method:n,url:i,headers:o,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),s&&l.append("Prefer",`count=${s}`),n||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",u.join(","))}}return new ir({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const s="PATCH",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new ir({method:s,url:n,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:s,headers:n}=this.cloneRequestState();return t&&n.append("Prefer",`count=${t}`),new ir({method:r,url:s,headers:n,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Gr(t){"@babel/helpers - typeof";return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(t)}function ed(t,e){if(Gr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Gr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function td(t){var e=ed(t,"string");return Gr(e)=="symbol"?e:e+""}function rd(t,e,r){return(e=td(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ao(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ao(Object(r),!0).forEach(function(s){rd(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ao(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}var sd=class rl{constructor(e,{headers:r={},schema:s,fetch:n,timeout:i,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=s,this.urlLengthLimit=o;const a=n??globalThis.fetch;i!==void 0&&i>0?this.fetch=(l,c)=>{const u=new AbortController,h=setTimeout(()=>u.abort(),i),d=c?.signal;if(d){if(d.aborted)return clearTimeout(h),a(l,c);const f=()=>{clearTimeout(h),u.abort()};return d.addEventListener("abort",f,{once:!0}),a(l,ls(ls({},c),{},{signal:u.signal})).finally(()=>{clearTimeout(h),d.removeEventListener("abort",f)})}return a(l,ls(ls({},c),{},{signal:u.signal})).finally(()=>clearTimeout(h))}:this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Xh(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new rl(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:s=!1,get:n=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),h=s&&Object.values(r).some(u);h?(a="POST",c=r):s||n?(a=s?"HEAD":"GET",Object.entries(r).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{l.searchParams.append(f,m)})):(a="POST",c=r);const d=new Headers(this.headers);return h?d.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&d.set("Prefer",`count=${i}`),new ir({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class nd{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const s=r.versions;if(s&&s.node){const n=s.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const id="2.95.3",od=`realtime-js/${id}`,ad="1.0.0",sl="2.0.0",lo=sl,Nn=1e4,ld=1e3,cd=100;var Rt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Rt||(Rt={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var Ve;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ve||(Ve={}));var $n;(function(t){t.websocket="websocket"})($n||($n={}));var Ft;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ft||(Ft={}));class ud{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,s;const n=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var r,s;const n=(s=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,s){var n,i;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let m=new DataView(f),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,a.length),m.setUint8(v++,o.length),m.setUint8(v++,c.length),m.setUint8(v++,h.length),m.setUint8(v++,r),Array.from(l,w=>m.setUint8(v++,w.charCodeAt(0))),Array.from(a,w=>m.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>m.setUint8(v++,w.charCodeAt(0))),Array.from(c,w=>m.setUint8(v++,w.charCodeAt(0))),Array.from(h,w=>m.setUint8(v++,w.charCodeAt(0)));var C=new Uint8Array(f.byteLength+s.byteLength);return C.set(new Uint8Array(f),0),C.set(new Uint8Array(s),f.byteLength),C.buffer}decode(e,r){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return r(s)}if(typeof e=="string"){const s=JSON.parse(e),[n,i,o,a,l]=s;return r({join_ref:n,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),s=r.getUint8(0),n=new TextDecoder;if(s===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,n)}_decodeUserBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=s.decode(e.slice(l,l+n));l=l+n;const u=s.decode(e.slice(l,l+i));l=l+i;const h=s.decode(e.slice(l,l+o));l=l+o;const d=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(s.decode(d)):d,m={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>r.includes(s)))}}class nl{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(re||(re={}));const co=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=hd(o,t,e,n),i),{}):{}},hd=(t,e,r,s)=>{const n=e.find(a=>a.name===t),i=n?.type,o=r[t];return i&&!s.includes(i)?il(i,o):Ln(o)},il=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return gd(e,r)}switch(t){case re.bool:return dd(e);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return fd(e);case re.json:case re.jsonb:return pd(e);case re.timestamp:return md(e);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Ln(e);default:return Ln(e)}},Ln=t=>t,dd=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fd=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},pd=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},gd=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>il(e,a))}return t},md=t=>typeof t=="string"?t.replace(" ","T"):t,ol=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class un{constructor(e,r,s={},n=Nn){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var uo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(uo||(uo={}));class Ur{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ur.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ur.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ur.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(C=>C.presence_ref),f=h.map(C=>C.presence_ref),m=u.filter(C=>f.indexOf(C.presence_ref)<0),v=h.filter(C=>d.indexOf(C.presence_ref)<0);m.length>0&&(a[c]=m),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ho;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ho||(ho={}));var Dr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Dr||(Dr={}));var ut;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ut||(ut={}));class lr{constructor(e,r={config:{}},s){var n,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new un(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new nl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ur(this),this.broadcastEndpointURL=ol(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Dr.PRESENCE]&&this.bindings[Dr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(ut.CHANNEL_ERROR,f)),this._onClose(()=>e?.(ut.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e?.(ut.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,C=(m=v?.length)!==null&&m!==void 0?m:0,w=[];for(let b=0;b<C;b++){const y=v[b],{filter:{event:R,schema:F,table:V,filter:H}}=y,ue=f&&f[b];if(ue&&ue.event===R&&lr.isFilterValueEqual(ue.schema,F)&&lr.isFilterValueEqual(ue.table,V)&&lr.isFilterValueEqual(ue.filter,H))w.push(Object.assign(Object.assign({},y),{id:ue.id}));else{this.unsubscribe(),this.state=de.errored,e?.(ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ut.SUBSCRIBED);return}}).receive("error",f=>{this.state=de.errored,e?.(ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===de.joined&&e===Dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var n;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new un(this,Ve.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new un(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cd){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ve;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,r,s);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var m,v,C;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((C=(v=f.filter)===null||v===void 0?void 0:v.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var m,v,C,w,b,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const R=f.id,F=(m=f.filter)===null||m===void 0?void 0:m.event;return R&&((v=r.ids)===null||v===void 0?void 0:v.includes(R))&&(F==="*"||F?.toLocaleLowerCase()===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const R=(b=(w=f?.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return R==="*"||R===((y=r?.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:v,table:C,commit_timestamp:w,type:b,errors:y}=m;d=Object.assign(Object.assign({},{schema:v,table:C,commit_timestamp:w,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}f.callback(d,s)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&lr.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ve.close,{},e)}_onError(e){this._on(Ve.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=co(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=co(e.columns,e.old_record)),r}}const hn=()=>{},cs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_d=[1e3,2e3,5e3,1e4],vd=1e4,yd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wd{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nn,this.transport=null,this.heartbeatIntervalMs=cs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hn,this.ref=0,this.reconnectTimer=null,this.vsn=lo,this.logger=hn,this.conn=null,this.sendBuffer=[],this.serializer=new ud,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...i)=>n(...i):(...i)=>fetch(...i),!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${$n.websocket}`,this.httpEndpoint=ol(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nd.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Rt.connecting:return Ft.Connecting;case Rt.open:return Ft.Open;case Rt.closing:return Ft.Closing;default:return Ft.Closed}}isConnected(){return this.connectionState()===Ft.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new lr(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ld,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},cs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Rt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rt.open||this.conn.readyState===Rt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ve.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([yd],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,s=!1;if(e)r=e,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:od};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ve.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new nl(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,i,o,a,l,c,u,h,d,f;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Nn,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:cs.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:hn,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:lo,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(m=>_d[m-1]||vd),this.vsn){case ad:this.encode=(u=e?.encode)!==null&&u!==void 0?u:((m,v)=>v(JSON.stringify(m))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((m,v)=>v(JSON.parse(m)));break;case sl:this.encode=(d=e?.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var zr=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function bd(t,e,r){const s=new URL(e,t);if(r)for(const[n,i]of Object.entries(r))i!==void 0&&s.searchParams.set(n,i);return s.toString()}async function Sd(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Ed(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:n,body:i,headers:o}){const a=bd(t.baseUrl,s,n),l=await Sd(t.auth),c=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),d=h&&u?JSON.parse(u):u;if(!c.ok){const f=h?d:void 0,m=f?.error;throw new zr(m?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:m?.type,icebergCode:m?.code,details:f})}return{status:c.status,headers:c.headers,data:d}}}}function us(t){return t.join("")}var Cd=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:us(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${us(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${us(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${us(t.namespace)}`}),!0}catch(e){if(e instanceof zr&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof zr&&r.status===409)return;throw r}}};function Zt(t){return t.join("")}var Ad=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zt(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zt(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zt(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zt(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zt(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zt(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof zr&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof zr&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Td=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Ed({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Cd(this.client,e),this.tableOps=new Ad(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Vs=class extends Error{constructor(t,e="storage",r,s){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=s}};function Hs(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var hs=class extends Vs{constructor(t,e,r,s="storage"){super(t,s,e,r),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},al=class extends Vs{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Rd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Od=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Un=t=>{if(Array.isArray(t))return t.map(r=>Un(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Un(s)}),e},kd=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Jr(t){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(t)}function Pd(t,e){if(Jr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Jr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xd(t){var e=Pd(t,"string");return Jr(e)=="symbol"?e:e+""}function Id(t,e,r){return(e=xd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fo(Object(r),!0).forEach(function(s){Id(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fo(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}const po=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},jd=async(t,e,r,s)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t,i=n.status||500;if(typeof n.json=="function")n.json().then(o=>{const a=o?.statusCode||o?.code||i+"";e(new hs(po(o),i,a,s))}).catch(()=>{if(s==="vectors"){const o=i+"";e(new hs(n.statusText||`HTTP ${i} error`,i,o,s))}else{const o=i+"";e(new hs(n.statusText||`HTTP ${i} error`,i,o,s))}});else{const o=i+"";e(new hs(n.statusText||`HTTP ${i} error`,i,o,s))}}else e(new al(po(t),t,s))},Nd=(t,e,r,s)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!s?M(M({},n),r):(Od(s)?(n.headers=M({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(s)):n.body=s,e?.duplex&&(n.duplex=e.duplex),M(M({},n),r))};async function Ar(t,e,r,s,n,i,o){return new Promise((a,l)=>{t(r,Nd(e,s,n,i)).then(c=>{if(!c.ok)throw c;if(s?.noResolveJson)return c;if(o==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>jd(c,l,s,o))})}function ll(t="storage"){return{get:async(e,r,s,n)=>Ar(e,"GET",r,s,n,void 0,t),post:async(e,r,s,n,i)=>Ar(e,"POST",r,n,i,s,t),put:async(e,r,s,n,i)=>Ar(e,"PUT",r,n,i,s,t),head:async(e,r,s,n)=>Ar(e,"HEAD",r,M(M({},s),{},{noResolveJson:!0}),n,void 0,t),remove:async(e,r,s,n,i)=>Ar(e,"DELETE",r,n,i,s,t)}}const $d=ll("storage"),{get:Yr,post:qe,put:Dn,head:Ld,remove:ui}=$d,Le=ll("vectors");var yr=class{constructor(t,e={},r,s="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Rd(r),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Hs(r))return{data:null,error:r};throw r}}},Ud=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Hs(e))return{data:null,error:e};throw e}}};let cl;cl=Symbol.toStringTag;var Dd=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[cl]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ud(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Hs(e))return{data:null,error:e};throw e}}};const Bd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},go={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Md=class extends yr{constructor(t,e={},r,s){super(t,e,s,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,s){var n=this;return n.handleOperation(async()=>{let i;const o=M(M({},go),s);let a=M(M({},n.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",n.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",n.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=n.toBase64(n.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s?.headers&&(a=M(M({},a),s.headers));const c=n._removeEmptyFolders(e),u=n._getFinalPath(c),h=await(t=="PUT"?Dn:qe)(n.fetch,`${n.url}/object/${u}`,i,M({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,s){var n=this;const i=n._removeEmptyFolders(t),o=n._getFinalPath(i),a=new URL(n.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),n.handleOperation(async()=>{let l;const c=M({upsert:go.upsert},s),u=M(M({},n.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:i,fullPath:(await Dn(n.fetch,a.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(t);const n=M({},r.headers);e?.upsert&&(n["x-upsert"]="true");const i=await qe(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new Vs("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var s=this;return s.handleOperation(async()=>await qe(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:s.headers}))}async copy(t,e,r){var s=this;return s.handleOperation(async()=>({path:(await qe(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(t,e,r){var s=this;return s.handleOperation(async()=>{let n=s._getFinalPath(t),i=await qe(s.fetch,`${s.url}/object/sign/${n}`,M({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:s.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)}})}async createSignedUrls(t,e,r){var s=this;return s.handleOperation(async()=>{const n=await qe(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:e,paths:t},{headers:s.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return n.map(o=>M(M({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null}))})}download(t,e,r){const s=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",o=this._getFinalPath(t),a=()=>Yr(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0},r);return new Dd(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>Un(await Yr(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await Ld(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Hs(s)&&s instanceof al){const n=s.originalError;if([400,404].includes(n?.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,e){const r=this._getFinalPath(t),s=[],n=e?.download?`download=${e.download===!0?"":e.download}`:"";n!==""&&s.push(n);const i=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&s.push(o);let a=s.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await ui(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var s=this;return s.handleOperation(async()=>{const n=M(M(M({},Bd),e),{},{prefix:t||""});return await qe(s.fetch,`${s.url}/object/list/${s.bucketId}`,n,{headers:s.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const s=M({},t);return await qe(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Fd="2.95.3",ns={"X-Client-Info":`storage-js/${Fd}`};var qd=class extends yr{constructor(t,e={},r,s){const n=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."));const i=n.href.replace(/\/$/,""),o=M(M({},ns),e);super(i,o,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Yr(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Yr(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await qe(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await Dn(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ui(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Vd=class extends yr{constructor(t,e={},r){const s=t.replace(/\/$/,""),n=M(M({},ns),e);super(s,n,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await qe(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const s=r.toString(),n=s?`${e.url}/bucket?${s}`:`${e.url}/bucket`;return await Yr(e.fetch,n,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ui(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!kd(t))throw new Vs("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Td({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(n,i){const o=n[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(n,a),error:null}}catch(l){if(s)throw l;return{data:null,error:l}}}}})}},Hd=class extends yr{constructor(t,e={},r){const s=t.replace(/\/$/,""),n=M(M({},ns),{},{"Content-Type":"application/json"},e);super(s,n,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Le.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Le.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},Kd=class extends yr{constructor(t,e={},r){const s=t.replace(/\/$/,""),n=M(M({},ns),{},{"Content-Type":"application/json"},e);super(s,n,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Wd=class extends yr{constructor(t,e={},r){const s=t.replace(/\/$/,""),n=M(M({},ns),{},{"Content-Type":"application/json"},e);super(s,n,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Le.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Gd=class extends Wd{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new zd(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},zd=class extends Hd{constructor(t,e,r,s){super(t,e,s),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new Jd(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Jd=class extends Kd{constructor(t,e,r,s,n){super(t,e,n),this.vectorBucketName=r,this.indexName=s}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,M(M({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Yd=class extends qd{constructor(t,e={},r,s){super(t,e,r,s)}from(t){return new Md(this.url,this.headers,t,this.fetch)}get vectors(){return new Gd(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Vd(this.url+"/iceberg",this.headers,this.fetch)}};const ul="2.95.3",or=30*1e3,Bn=3,dn=Bn*or,Zd="http://localhost:9999",Qd="supabase.auth.token",Xd={"X-Client-Info":`gotrue-js/${ul}`},Mn="X-Supabase-Api-Version",hl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ef=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tf=600*1e3;class Zr extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rf extends Zr{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function sf(t){return $(t)&&t.name==="AuthApiError"}class qt extends Zr{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class yt extends Zr{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class Ne extends yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fn(t){return $(t)&&t.name==="AuthSessionMissingError"}class Qt extends yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ds extends yt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fs extends yt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nf(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class mo extends yt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class of extends yt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fn extends yt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function pn(t){return $(t)&&t.name==="AuthRetryableFetchError"}class _o extends yt{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class qn extends yt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Os="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vo=` 	
\r=`.split(""),af=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vo.length;e+=1)t[vo[e].charCodeAt(0)]=-2;for(let e=0;e<Os.length;e+=1)t[Os[e].charCodeAt(0)]=e;return t})();function yo(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Os[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Os[s]),e.queuedBits-=6}}function dl(t,e,r){const s=af[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wo(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{uf(o,s,r)};for(let o=0;o<t.length;o+=1)dl(t.charCodeAt(o),n,i);return e.join("")}function lf(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cf(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}lf(s,e)}}function uf(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function gr(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)dl(t.charCodeAt(n),r,s);return new Uint8Array(e)}function hf(t){const e=[];return cf(t,r=>e.push(r)),new Uint8Array(e)}function Ht(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>yo(n,r,s)),yo(null,r,s),e.join("")}function df(t){return Math.round(Date.now()/1e3)+t}function ff(){return Symbol("auth-callback")}const ve=()=>typeof window<"u"&&typeof document<"u",Ut={tested:!1,writable:!1},fl=()=>{if(!ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ut.tested)return Ut.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ut.tested=!0,Ut.writable=!0}catch{Ut.tested=!0,Ut.writable=!1}return Ut.writable};function pf(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const pl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gf=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ar=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Dt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_e=async(t,e)=>{await t.removeItem(e)};class Ks{constructor(){this.promise=new Ks.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ks.promiseConstructor=Promise;function ps(t){const e=t.split(".");if(e.length!==3)throw new qn("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!ef.test(e[s]))throw new qn("JWT not in base64url format");return{header:JSON.parse(wo(e[0])),payload:JSON.parse(wo(e[1])),signature:gr(e[2]),raw:{header:e[0],payload:e[1]}}}async function mf(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function _f(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function vf(t){return("0"+t.toString(16)).substr(-2)}function yf(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,vf).join("")}async function wf(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function bf(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wf(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xt(t,e,r=!1){const s=yf();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await ar(t,`${e}-code-verifier`,n);const i=await bf(s);return[i,s===i?"plain":"s256"]}const Sf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ef(t){const e=t.headers.get(Mn);if(!e||!e.match(Sf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Cf(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Af(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function er(t){if(!Tf.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gn(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rf(t,e){return new Proxy(t,{get:(r,s,n)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,n)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,s,n)}})}function bo(t){return JSON.parse(JSON.stringify(t))}const Mt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Of=[502,503,504];async function So(t){var e;if(!gf(t))throw new Fn(Mt(t),0);if(Of.includes(t.status))throw new Fn(Mt(t),t.status);let r;try{r=await t.json()}catch(i){throw new qt(Mt(i),i)}let s;const n=Ef(t);if(n&&n.getTime()>=hl["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new _o(Mt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ne}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _o(Mt(r),t.status,r.weak_password.reasons);throw new rf(Mt(r),t.status||500,s)}const kf=(t,e,r,s)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function B(t,e,r,s){var n;const i=Object.assign({},s?.headers);i[Mn]||(i[Mn]=hl["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s?.query)!==null&&n!==void 0?n:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Pf(t,e,r+a,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function Pf(t,e,r,s,n,i){const o=kf(e,s,n,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Fn(Mt(l),0)}if(a.ok||await So(a),s?.noResolveJson)return a;try{return await a.json()}catch(l){await So(l)}}function Fe(t){var e;let r=null;jf(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=df(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Eo(t){const e=Fe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xf(t){return{data:t,error:null}}function If(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=qs(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Co(t){return t}function jf(t){return t.access_token&&t.refresh_token&&t.expires_in}const mn=["global","local","others"];class Nf{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=pl(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=mn[0]){if(mn.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mn.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:kt})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=qs(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s?.newEmail,delete n.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:If,redirectTo:r?.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Co});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(m.split(";")[1].split("=")[1]);c[`${C}Page`]=v}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){er(e);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){er(e);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:kt})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){er(e);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:kt})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){er(e.userId);try{const{data:r,error:s}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(e){er(e.userId),er(e.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Co});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(m.split(";")[1].split("=")[1]);c[`${C}Page`]=v}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if($(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}}function Ao(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const tr={debug:!!(globalThis&&fl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $f extends gl{}async function Lf(t,e,r){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $f(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Uf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ml(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Df(t){return parseInt(t,16)}function Bf(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Mf(t){var e;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=ml(t.address),m=u?`${u}://${s}`:s,v=t.statement?`${t.statement}
`:"",C=`${m} wants you to sign in with your Ethereum account:
${f}

${v}`;let w=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(w+=`
Expiration Time: ${n.toISOString()}`),a&&(w+=`
Not Before: ${a.toISOString()}`),l&&(w+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);b+=`
- ${y}`}w+=b}return`${C}
${w}`}class ce extends Error{constructor({message:e,code:r,cause:s,name:n}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ks extends ce{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ff({error:t,options:e}){var r,s,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ce({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ce({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ce({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ce({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ce({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ce({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ce({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ce({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(_l(o)){if(i.rp.id!==o)return new ce({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ce({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function qf({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ce({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ce({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(_l(s)){if(r.rpId!==s)return new ce({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Vf{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Hf=new Vf;function Kf(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,n=qs(t,["challenge","user","excludeCredentials"]),i=gr(e).buffer,o=Object.assign(Object.assign({},r),{id:gr(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:gr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Wf(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=qs(t,["challenge","allowCredentials"]),n=gr(e).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:gr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Gf(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ht(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ht(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zf(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ht(new Uint8Array(n.authenticatorData)),clientDataJSON:Ht(new Uint8Array(n.clientDataJSON)),signature:Ht(new Uint8Array(n.signature)),userHandle:n.userHandle?Ht(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _l(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function To(){var t,e;return!!(ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Jf(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ks("Browser returned unexpected credential type",e)}:{data:null,error:new ks("Empty credential response",e)}}catch(e){return{data:null,error:Ff({error:e,options:t})}}}async function Yf(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ks("Browser returned unexpected credential type",e)}:{data:null,error:new ks("Empty credential response",e)}}catch(e){return{data:null,error:qf({error:e,options:t})}}}const Zf={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Qf={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ps(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const a=s[i];e(a)?s[i]=Ps(a,o):s[i]=Ps(o)}else s[i]=o}return s}function Xf(t,e){return Ps(Zf,t,e||{})}function ep(t,e){return Ps(Qf,t,e||{})}class tp{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:n},i){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const c=n??Hf.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){const h=s;if(h)u.name=`${u.id}:${h}`;else{const f=(await this.client.getUser()).data.user,m=((o=f?.user_metadata)===null||o===void 0?void 0:o.name)||f?.email||f?.id||"User";u.name=`${u.id}:${m}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Xf(a.webauthn.credential_options.publicKey,i?.create),{data:h,error:d}=await Jf({publicKey:u,signal:c});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=ep(a.webauthn.credential_options.publicKey,i?.request),{data:h,error:d}=await Yf(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(a){return $(a)?{data:null,error:a}:{data:null,error:new qt("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Zr("rpId is required for WebAuthn authentication")};try{if(!To())return{data:null,error:new qt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new qt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},i){if(!r)return{data:null,error:new Zr("rpId is required for WebAuthn registration")};try{if(!To())return{data:null,error:new qt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new qt("Unexpected error in register",o)}}}}Uf();const rp={url:Zd,storageKey:Qd,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ro(t,e,r){return await r()}const rr={};class Qr{get jwks(){var e,r;return(r=(e=rr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){rr[this.storageKey]=Object.assign(Object.assign({},rr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=rr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){rr[this.storageKey]=Object.assign(Object.assign({},rr[this.storageKey]),{cachedAt:e})}constructor(e){var r,s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},rp),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Qr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ve()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Nf({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=pl(i.fetch),this.lock=i.lock||Ro,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ve()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Lf:this.lock=Ro,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tp(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:fl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ao(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ao(this.memoryStorage)),ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ul}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},s="none";if(ve()&&(r=pf(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),ve()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nf(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?this._returnResult({error:r}):this._returnResult({error:new qt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:Fe}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Xt(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(r=d?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},xform:Fe})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},channel:(n=d?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Fe})}else throw new ds("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await _e(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await _e(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Eo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Eo})}else throw new ds("You must provide either an email or phone number and a password");const{data:s,error:n}=r;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!s||!s.session||!s.user){const i=new Qt;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,n,i,o,a,l,c,u,h,d;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:v,wallet:C,statement:w,options:b}=e;let y;if(ve())if(typeof C=="object")y=C;else{const ge=window;if("ethereum"in ge&&typeof ge.ethereum=="object"&&"request"in ge.ethereum&&typeof ge.ethereum.request=="function")y=ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=C}const R=new URL((r=b?.url)!==null&&r!==void 0?r:window.location.href),F=await y.request({method:"eth_requestAccounts"}).then(ge=>ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=ml(F[0]);let H=(s=b?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!H){const ge=await y.request({method:"eth_chainId"});H=Df(ge)}const ue={domain:R.host,address:V,statement:w,uri:R.href,version:"1",chainId:H,nonce:(n=b?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=b?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=b?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=b?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Mf(ue),m=await y.request({method:"personal_sign",params:[Bf(f),V]})}try{const{data:v,error:C}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Fe});if(C)throw C;if(!v||!v.session||!v.user){const w=new Qt;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:C})}catch(v){if($(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,s,n,i,o,a,l,c,u,h,d,f;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:C,wallet:w,statement:b,options:y}=e;let R;if(ve())if(typeof w=="object")R=w;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))R=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=w}const F=new URL((r=y?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const V=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),b?{statement:b}:null));let H;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")H=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)H=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)m=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),v=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${F.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(n=(s=y?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=y?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(u=y?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const V=await R.signMessage(new TextEncoder().encode(m),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=V}}try{const{data:C,error:w}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Ht(v)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Fe});if(w)throw w;if(!C||!C.session||!C.user){const b=new Qt;return this._returnResult({data:{user:null,session:null},error:b})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:w})}catch(C){if($(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async _exchangeCodeForSession(e){const r=await Dt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new of;const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Fe});if(await _e(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Qt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(await _e(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Fe}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Qt;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Xt(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new ds("You must provide either an email or phone number.")}catch(a){if(await _e(this.storage,`${this.storageKey}-code-verifier`),$(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Fe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if($(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var r,s,n,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Xt(this.storage,this.storageKey));const c=await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:xf});return!((i=c.data)===null||i===void 0)&&i.url&&ve()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await _e(this.storage,`${this.storageKey}-code-verifier`),$(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Ne;const{error:n}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if($(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new ds("You must provide either an email or phone number and a type")}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Dt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<dn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Dt(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=gn()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Rf(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ne}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(r){if($(r))return fn(r)&&(await this._removeSession(),await _e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Ne;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Xt(this.storage,this.storageKey));const{data:c,error:u}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:kt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await _e(this.storage,`${this.storageKey}-code-verifier`),$(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ne;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=ps(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if($(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Ne;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ve())throw new fs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mo("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new fs("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=d-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,u);const{data:v,error:C}=await this._getUser(i);if(C)throw C;const w={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(s){if($(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Dt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i&&!fn(i))return this._returnResult({error:i});const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(sf(a)&&(a.status===404||a.status===401||a.status===403)||fn(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await _e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=ff(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await Xt(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await _e(this.storage,`${this.storageKey}-code-verifier`),$(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return ve()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if($(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Fe}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Qt}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(n){if(await _e(this.storage,`${this.storageKey}-code-verifier`),$(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await _f(async n=>(n>0&&await mf(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Fe})),(n,i)=>{const o=200*Math.pow(2,n);return i&&pn(i)&&Date.now()+o-s<or})}catch(s){if(this._debug(r,"error",s),$(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),ve()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Dt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Dt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await ar(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o?.user)!==null&&e!==void 0?e:gn()}else if(n&&!n.user&&!n.user){const o=await Dt(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await _e(this.storage,this.storageKey+"-user"),await ar(this.storage,this.storageKey,n)):n.user=gn()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<dn;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${dn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),pn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Ne;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Ks;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ne;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),$(i)){const o={data:null,error:i};return pn(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _e(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await ar(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=bo(n);await ar(this.storage,this.storageKey,i)}else{const n=bo(r);await ar(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _e(this.storage,this.storageKey),await _e(this.storage,this.storageKey+"-code-verifier"),await _e(this.storage,this.storageKey+"-user"),this.userStorage&&await _e(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ve()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),or);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${or}ms, refresh threshold is ${Bn} ticks`),n<=Bn&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ve()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Xt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s?.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?this._returnResult({data:null,error:i}):await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Gf(e.webauthn.credential_response):zf(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Kf(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Wf(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,s,n,i;if(e)try{const{payload:f}=ps(e);let m=null;f.aal&&(m=f.aal);let v=m;const{data:{user:C},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((s=(r=C?.factors)===null||r===void 0?void 0:r.filter(R=>R.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(v="aal2");const y=f.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:y},error:null}}catch(f){if($(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=ps(o.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");const d=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?await B(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ne})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Ne});const o=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if($(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,r){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!n)return this._returnResult({data:null,error:new Ne});const o=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if($(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;return s?this._returnResult({data:null,error:s}):r?await B(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new Ne})})}catch(e){if($(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:s},error:n}=r;return n?this._returnResult({data:null,error:n}):s?(await B(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ne})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+tf>n)return s;const{data:i,error:o}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:f,error:m}=await this.getSession();if(m||!f.session)return this._returnResult({data:null,error:m});s=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=ps(s);r?.allowExpired||Cf(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const u=Af(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,hf(`${a}.${l}`)))throw new qn("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if($(s))return this._returnResult({data:null,error:s});throw s}}}Qr.nextInstanceID={};const sp=Qr,np="2.95.3";let Or="";typeof Deno<"u"?Or="deno":typeof document<"u"?Or="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Or="react-native":Or="node";const ip={"X-Client-Info":`supabase-js-${Or}/${np}`},op={headers:ip},ap={schema:"public"},lp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cp={};function Xr(t){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(t)}function up(t,e){if(Xr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Xr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hp(t){var e=up(t,"string");return Xr(e)=="symbol"?e:e+""}function dp(t,e,r){return(e=hp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oo(Object(r),!0).forEach(function(s){dp(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}const fp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pp=()=>Headers,gp=(t,e,r)=>{const s=fp(r),n=pp();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,le(le({},o),{},{headers:c}))}};function mp(t){return t.endsWith("/")?t:t+"/"}function _p(t,e){var r,s;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,d={db:le(le({},l),n),auth:le(le({},c),i),realtime:le(le({},u),o),storage:{},global:le(le(le({},h),a),{},{headers:le(le({},(r=h?.headers)!==null&&r!==void 0?r:{}),(s=a?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function vp(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var yp=class extends sp{constructor(t){super(t)}},wp=class{constructor(t,e,r){var s,n;this.supabaseUrl=t,this.supabaseKey=e;const i=vp(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:ap,realtime:cp,auth:le(le({},lp),{},{storageKey:o}),global:op},l=_p(r??{},a);if(this.storageKey=(s=l.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(n=l.global.headers)!==null&&n!==void 0?n:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=gp(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new sd(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new Yd(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Jh(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(e=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:n,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yp({url:this.authUrl.href,headers:le(le({},d),u),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:s,userStorage:n,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new wd(this.realtimeUrl.href,le(le({},t),{},{params:le(le({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const bp=(t,e,r)=>new wp(t,e,r);function Sp(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Sp()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ep="https://kqfcafnwpecvllyyhvuw.supabase.co",Cp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtxZmNhZm53cGVjdmxseXlodnV3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwNzc3NDYsImV4cCI6MjA4NjY1Mzc0Nn0.lNDG4nRtyIeGqc0CZcdtE30bdU748wcMtMpaxNg_84I",ko=bp(Ep,Cp);function Ap(t,e){const r=e;let s=0;async function n(){if(t.value)try{const{data:o,error:a}=await ko.from("coins").select("coins").eq("user_id",t.value).single();r.value=a?0:o?.coins??0}catch(o){console.error("loadCoins error",o),r.value=0}}async function i(){if(t.value&&!(Date.now()-s<100)){s=Date.now();try{const{data:o,error:a}=await ko.rpc("add_coin",{p_user_id:t.value});a||(r.value=o)}catch(o){console.error("addCoin error",o)}}}return{coins:r,loadCoins:n,addCoin:i}}const Tp={__name:"App",setup(t){const e=Sn(null);let r=null;Pt("userId",e);const s=Sn(0);Pt("coins",s);const n=Ap(e,s);return Pt("coinsController",n),_a(async()=>{window.Telegram?.WebApp?(r=window.Telegram.WebApp,r.ready(),r.expand(),r.disableVerticalSwipes(),e.value=r.initDataUnsafe?.user?.id??null,await n.loadCoins(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(r.requestFullscreen(),r.setBottomBarColor("#242424"))):console.log("Telegram WebApp   ( )")}),Pt("haptic",(o="light")=>{r?.HapticFeedback&&r.HapticFeedback.impactOccurred(o)}),(o,a)=>(De(),As(Ie(tl)))}},Rp="modulepreload",Op=function(t){return"/app/"+t},Po={},xo=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=l(r.map(c=>{if(c=Op(c),c in Po)return;Po[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Rp,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Ws=(t,e)=>{const r=t.__vccOpts||t;for(const[s,n]of e)r[s]=n;return r},kp={},Pp={class:"header"};function xp(t,e){return De(),dt("header",Pp,[Oc(t.$slots,"default",{},void 0)])}const Ip=Ws(kp,[["render",xp],["__scopeId","data-v-a60865d4"]]),jp=`<svg xmlns="http://www.w3.org/2000/svg" fill="none">\r
    <symbol id="icon-home" viewBox="0 0 24 24" fill="none">\r
        <path\r
            d="M20.0383 6.81994L14.2783 2.78994C12.7083 1.68994 10.2983 1.74994 8.78828 2.91994L3.77828 6.82994C2.77828 7.60994 1.98828 9.20994 1.98828 10.4699V17.3699C1.98828 19.9199 4.05828 21.9999 6.60828 21.9999H17.3883C19.9383 21.9999 22.0083 19.9299 22.0083 17.3799V10.5999C22.0083 9.24994 21.1383 7.58994 20.0383 6.81994ZM12.7483 17.9999C12.7483 18.4099 12.4083 18.7499 11.9983 18.7499C11.5883 18.7499 11.2483 18.4099 11.2483 17.9999V14.9999C11.2483 14.5899 11.5883 14.2499 11.9983 14.2499C12.4083 14.2499 12.7483 14.5899 12.7483 14.9999V17.9999Z"\r
            fill="currentColor" />\r
    </symbol>\r
    <symbol id="icon-tasks" viewBox="0 0 24 24" fill="none">\r
        <path\r
            d="M12.6761 19.957C12.9508 20.0209 12.976 20.3807 12.7084 20.4699L11.1284 20.9899C7.15839 22.2699 5.06839 21.1999 3.77839 17.2299L2.49839 13.2799C1.21839 9.30992 2.27839 7.20992 6.24839 5.92992L6.77238 5.75639C7.17525 5.62297 7.56731 6.02703 7.45292 6.43571C7.39622 6.63828 7.34167 6.84968 7.28839 7.06992L6.30839 11.2599C5.20839 15.9699 6.81839 18.5699 11.5284 19.6899L12.6761 19.957Z"\r
            fill="currentColor" />\r
        <path\r
            d="M17.1702 3.21001L15.5002 2.82001C12.1602 2.03001 10.1702 2.68001 9.00018 5.10001C8.70018 5.71001 8.46018 6.45001 8.26018 7.30001L7.28018 11.49C6.30018 15.67 7.59018 17.73 11.7602 18.72L13.4402 19.12C14.0202 19.26 14.5602 19.35 15.0602 19.39C18.1802 19.69 19.8402 18.23 20.6802 14.62L21.6602 10.44C22.6402 6.26001 21.3602 4.19001 17.1702 3.21001ZM15.2902 13.33C15.2002 13.67 14.9002 13.89 14.5602 13.89C14.5002 13.89 14.4402 13.88 14.3702 13.87L11.4602 13.13C11.0602 13.03 10.8202 12.62 10.9202 12.22C11.0202 11.82 11.4302 11.58 11.8302 11.68L14.7402 12.42C15.1502 12.52 15.3902 12.93 15.2902 13.33ZM18.2202 9.95001C18.1302 10.29 17.8302 10.51 17.4902 10.51C17.4302 10.51 17.3702 10.5 17.3002 10.49L12.4502 9.26001C12.0502 9.16001 11.8102 8.75001 11.9102 8.35001C12.0102 7.95001 12.4202 7.71001 12.8202 7.81001L17.6702 9.04001C18.0802 9.13001 18.3202 9.54001 18.2202 9.95001Z"\r
            fill="currentColor" />\r
    </symbol>\r
    <symbol id="icon-menu" viewBox="0 0 24 24" fill="none">\r
        <path\r
            d="M7.24 2H5.34C3.15 2 2 3.15 2 5.33V7.23C2 9.41 3.15 10.56 5.33 10.56H7.23C9.41 10.56 10.56 9.41 10.56 7.23V5.33C10.57 3.15 9.42 2 7.24 2Z"\r
            fill="currentColor" />\r
        <path\r
            d="M18.6714 2H16.7714C14.5914 2 13.4414 3.15 13.4414 5.33V7.23C13.4414 9.41 14.5914 10.56 16.7714 10.56H18.6714C20.8514 10.56 22.0014 9.41 22.0014 7.23V5.33C22.0014 3.15 20.8514 2 18.6714 2Z"\r
            fill="currentColor" />\r
        <path\r
            d="M18.6714 13.4299H16.7714C14.5914 13.4299 13.4414 14.5799 13.4414 16.7599V18.6599C13.4414 20.8399 14.5914 21.9899 16.7714 21.9899H18.6714C20.8514 21.9899 22.0014 20.8399 22.0014 18.6599V16.7599C22.0014 14.5799 20.8514 13.4299 18.6714 13.4299Z"\r
            fill="currentColor" />\r
        <path\r
            d="M7.24 13.4299H5.34C3.15 13.4299 2 14.5799 2 16.7599V18.6599C2 20.8499 3.15 21.9999 5.33 21.9999H7.23C9.41 21.9999 10.56 20.8499 10.56 18.6699V16.7699C10.57 14.5799 9.42 13.4299 7.24 13.4299Z"\r
            fill="currentColor" />\r
    </symbol>\r
    <symbol id="icon-socials" viewBox="0 0 16 16" fill="none">\r
        <path\r
            d="M12.3133 11.2202L12.5733 13.3268C12.6399 13.8802 12.0466 14.2668 11.5733 13.9802L9.2666 12.6068C9.1066 12.5135 9.0666 12.3135 9.15326 12.1535C9.4866 11.5402 9.6666 10.8468 9.6666 10.1535C9.6666 7.7135 7.57326 5.72683 4.99993 5.72683C4.47326 5.72683 3.95993 5.80683 3.47993 5.96683C3.23326 6.04683 2.99326 5.82016 3.05326 5.56683C3.65993 3.14016 5.99326 1.3335 8.77993 1.3335C12.0333 1.3335 14.6666 3.7935 14.6666 6.82683C14.6666 8.62683 13.7399 10.2202 12.3133 11.2202Z"\r
            fill="currentColor" />\r
        <path\r
            d="M8.66683 10.1532C8.66683 10.9466 8.3735 11.6799 7.88016 12.2599C7.22016 13.0599 6.1735 13.5732 5.00016 13.5732L3.26016 14.6066C2.96683 14.7866 2.5935 14.5399 2.6335 14.1999L2.80016 12.8866C1.90683 12.2666 1.3335 11.2732 1.3335 10.1532C1.3335 8.9799 1.96016 7.94656 2.92016 7.33323C3.5135 6.94656 4.22683 6.72656 5.00016 6.72656C7.02683 6.72656 8.66683 8.2599 8.66683 10.1532Z"\r
            fill="currentColor" />\r
    </symbol>\r
    <symbol id="icon-donate" viewBox="0 0 16 16" fill="none">\r
        <path\r
            d="M14.6668 14.1665C14.6668 14.4398 14.4402 14.6665 14.1668 14.6665H1.8335C1.56016 14.6665 1.3335 14.4398 1.3335 14.1665C1.3335 13.8932 1.56016 13.6665 1.8335 13.6665H14.1668C14.4402 13.6665 14.6668 13.8932 14.6668 14.1665Z"\r
            fill="currentColor" />\r
        <path\r
            d="M10.2601 3.01318L3.10012 10.1732C2.82679 10.4465 2.38679 10.4465 2.12012 10.1732H2.11346C1.18679 9.23984 1.18679 7.73318 2.11346 6.80651L6.88012 2.03984C7.81346 1.10651 9.32012 1.10651 10.2535 2.03984C10.5268 2.29984 10.5268 2.74651 10.2601 3.01318Z"\r
            fill="currentColor" />\r
        <path\r
            d="M13.8798 5.66021L11.8465 3.62687C11.5731 3.35354 11.1331 3.35354 10.8665 3.62687L3.70646 10.7869C3.43313 11.0535 3.43313 11.4935 3.70646 11.7669L5.7398 13.8069C6.67313 14.7335 8.1798 14.7335 9.11313 13.8069L13.8731 9.04021C14.8198 8.10688 14.8198 6.59354 13.8798 5.66021ZM8.50646 11.6802L7.6998 12.4935C7.53313 12.6602 7.2598 12.6602 7.08646 12.4935C6.9198 12.3269 6.9198 12.0535 7.08646 11.8802L7.8998 11.0669C8.0598 10.9069 8.3398 10.9069 8.50646 11.0669C8.67313 11.2335 8.67313 11.5202 8.50646 11.6802ZM11.1531 9.03354L9.52646 10.6669C9.3598 10.8269 9.08646 10.8269 8.91313 10.6669C8.74646 10.5002 8.74646 10.2269 8.91313 10.0535L10.5465 8.42021C10.7065 8.26021 10.9865 8.26021 11.1531 8.42021C11.3198 8.59354 11.3198 8.86688 11.1531 9.03354Z"\r
            fill="currentColor" />\r
    </symbol>\r
    <symbol id="icon-arrowNext" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r
        <path\r
            d="M14.4301 18.8201C14.2401 18.8201 14.0501 18.7501 13.9001 18.6001C13.6101 18.3101 13.6101 17.8301 13.9001 17.5401L19.4401 12.0001L13.9001 6.46012C13.6101 6.17012 13.6101 5.69012 13.9001 5.40012C14.1901 5.11012 14.6701 5.11012 14.9601 5.40012L21.0301 11.4701C21.3201 11.7601 21.3201 12.2401 21.0301 12.5301L14.9601 18.6001C14.8101 18.7501 14.6201 18.8201 14.4301 18.8201Z"\r
            fill="currentColor" />\r
        <path\r
            d="M20.33 12.75H3.5C3.09 12.75 2.75 12.41 2.75 12C2.75 11.59 3.09 11.25 3.5 11.25H20.33C20.74 11.25 21.08 11.59 21.08 12C21.08 12.41 20.74 12.75 20.33 12.75Z"\r
            fill="currentColor" />\r
    </symbol>\r
    <symbol id="icon-game" viewBox="0 0 24 24" fill="none">\r
        <path\r
            d="M16.65 5.71973H7.35C4.4 5.71973 2 8.11973 2 11.0697V16.6497C2 19.5997 4.4 21.9997 7.35 21.9997H16.65C19.6 21.9997 22 19.5997 22 16.6497V11.0697C22 8.11973 19.6 5.71973 16.65 5.71973ZM14.5 12.0197C14.5 11.4697 14.95 11.0197 15.5 11.0197C16.05 11.0197 16.5 11.4697 16.5 12.0197C16.5 12.5697 16.05 13.0297 15.5 13.0297C14.95 13.0297 14.5 12.5897 14.5 12.0397V12.0197ZM10.13 16.0697C9.98 16.2197 9.79 16.2897 9.6 16.2897C9.41 16.2897 9.22 16.2197 9.07 16.0697L8.04 15.0397L7.05 16.0297C6.9 16.1797 6.71 16.2497 6.52 16.2497C6.33 16.2497 6.14 16.1797 5.99 16.0297C5.7 15.7397 5.7 15.2597 5.99 14.9697L6.98 13.9797L6.02 13.0197C5.73 12.7297 5.73 12.2497 6.02 11.9597C6.31 11.6697 6.79 11.6697 7.08 11.9597L8.04 12.9197L9.03 11.9297C9.32 11.6397 9.8 11.6397 10.09 11.9297C10.38 12.2197 10.38 12.6997 10.09 12.9897L9.1 13.9797L10.13 15.0097C10.42 15.2997 10.42 15.7797 10.13 16.0697ZM13.54 14.9997C12.99 14.9997 12.53 14.5497 12.53 13.9997C12.53 13.4497 12.97 12.9997 13.52 12.9997H13.54C14.09 12.9997 14.54 13.4497 14.54 13.9997C14.54 14.5497 14.1 14.9997 13.54 14.9997ZM15.5 16.9697C14.95 16.9697 14.5 16.5297 14.5 15.9797V15.9597C14.5 15.4097 14.95 14.9597 15.5 14.9597C16.05 14.9597 16.5 15.4097 16.5 15.9597C16.5 16.5097 16.06 16.9697 15.5 16.9697ZM17.48 14.9997C16.93 14.9997 16.47 14.5497 16.47 13.9997C16.47 13.4497 16.91 12.9997 17.46 12.9997H17.48C18.03 12.9997 18.48 13.4497 18.48 13.9997C18.48 14.5497 18.04 14.9997 17.48 14.9997Z"\r
            fill="currentColor" />\r
        <path\r
            d="M13.6399 2.71L13.6299 3.65C13.6199 4.53 12.8899 5.26 11.9999 5.26C11.8499 5.26 11.7599 5.36 11.7599 5.49C11.7599 5.62 11.8599 5.72 11.9899 5.72H10.3799C10.3699 5.65 10.3599 5.57 10.3599 5.49C10.3599 4.59 11.0899 3.86 11.9799 3.86C12.1299 3.86 12.2299 3.76 12.2299 3.63L12.2399 2.69C12.2499 2.31 12.5599 2 12.9399 2H12.9499C13.3399 2 13.6399 2.32 13.6399 2.71Z"\r
            fill="currentColor" />\r
    </symbol>\r
    <symbol id="icon-coins" viewBox="0 0 24 24" fill="none">\r
        <g clip-path="url(#clip0_802_78086)">\r
            <path\r
                d="M9 14C9 15.657 11.686 17 15 17C18.314 17 21 15.657 21 14C21 12.343 18.314 11 15 11C11.686 11 9 12.343 9 14Z"\r
                stroke="currentColor" stroke-width="2" stroke-linecap="round"\r
                stroke-linejoin="round" />\r
            <path d="M9 14V18C9 19.656 11.686 21 15 21C18.314 21 21 19.656 21 18V14"\r
                stroke="currentColor"\r
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\r
            <path\r
                d="M3 6C3 7.072 4.144 8.062 6 8.598C7.856 9.134 10.144 9.134 12 8.598C13.856 8.062 15 7.072 15 6C15 4.928 13.856 3.938 12 3.402C10.144 2.866 7.856 2.866 6 3.402C4.144 3.938 3 4.928 3 6Z"\r
                stroke="currentColor" stroke-width="2" stroke-linecap="round"\r
                stroke-linejoin="round" />\r
            <path d="M3 6V16C3 16.888 3.772 17.45 5 18" stroke="currentColor" stroke-width="2"\r
                stroke-linecap="round" stroke-linejoin="round" />\r
            <path d="M3 11C3 11.888 3.772 12.45 5 13" stroke="currentColor" stroke-width="2"\r
                stroke-linecap="round" stroke-linejoin="round" />\r
        </g>\r
        <defs>\r
            <clipPath id="clip0_802_78086">\r
                <rect width="24" height="24" fill="white" />\r
            </clipPath>\r
        </defs>\r
    </symbol>\r
</svg>`,Np=["innerHTML"],$p=["width","height"],Lp=["href"],Up={__name:"BaseIcon",props:{name:{type:String,required:!0},size:{type:[Number,String],default:20},color:{type:String,default:"currentColor"}},setup(t){return(e,r)=>(De(),dt(Te,null,[fe("div",{innerHTML:Ie(jp),style:{display:"none"}},null,8,Np),(De(),dt("svg",{class:ts(["base-icon",`icon-${t.name}`]),width:t.size,height:t.size,style:es({color:t.color}),"aria-hidden":"true"},[fe("use",{href:`#icon-${t.name}`},null,8,Lp)],14,$p))],64))}},vs=Ws(Up,[["__scopeId","data-v-72a28bc3"]]),Dp=["href","target","rel"],Bp={class:"element-top"},Mp={class:"element-title"},Fp={key:0,class:"element-info"},qp={class:"element-down"},Vp={class:"element-desc"},Hp={key:0},Kp={class:"arrow"},Wp={__name:"MainCard",props:{href:{type:String,required:!0},title:{type:String,default:""},badge:{type:String,default:""},description:{type:String,default:""},minAmount:{type:String,default:""},backgroundVariant:{type:String,default:"monodonat"},image:{type:String,default:""},external:{type:Boolean,default:!0}},setup(t){return(e,r)=>(De(),dt("a",{href:t.href,target:t.external?"_blank":"_self",rel:t.external?"noopener noreferrer":null,class:ts(["main-element",t.backgroundVariant])},[fe("div",Bp,[fe("div",Mp,Tr(t.title),1),t.badge?(De(),dt("div",Fp,Tr(t.badge),1)):rn("",!0)]),fe("div",qp,[fe("div",Vp,[Ts(Tr(t.description)+" ",1),t.minAmount?(De(),dt("span",Hp,"   "+Tr(t.minAmount),1)):rn("",!0)]),fe("div",Kp,[ie(vs,{class:"nav__item-icon",name:"arrowNext",size:"24"})])]),t.image?(De(),dt("div",{key:0,class:"card-image",style:es({backgroundImage:`url(${t.image})`})},null,4)):rn("",!0)],10,Dp))}},Io=Ws(Wp,[["__scopeId","data-v-9503e449"]]),Gp={class:"nav"},zp={class:"nav__wrapper"},Jp={class:"nav__wrapper"},Yp={__name:"NavBlock",setup(t){const e=nt("haptic");return(r,s)=>{const n=Ac("RouterLink");return De(),dt("nav",Gp,[fe("div",zp,[ie(n,{to:"/",class:"nav__item","exact-active-class":"active",onPointerdown:s[0]||(s[0]=i=>Ie(e)&&Ie(e)("light"))},{default:Ir(()=>[ie(vs,{class:"nav__item-icon",name:"donate",size:"24"}),s[3]||(s[3]=Ts("  ",-1))]),_:1}),ie(n,{to:"/tasks",class:"nav__item","active-class":"active",onPointerdown:s[1]||(s[1]=i=>Ie(e)&&Ie(e)("light"))},{default:Ir(()=>[ie(vs,{class:"nav__item-icon",name:"socials",size:"24"}),s[4]||(s[4]=Ts(" . ",-1))]),_:1})]),fe("div",Jp,[ie(n,{to:"/game",class:"nav__item sm","active-class":"active",onPointerdown:s[2]||(s[2]=i=>Ie(e)&&Ie(e)("light"))},{default:Ir(()=>[ie(vs,{class:"nav__item-icon",name:"game",size:"24"})]),_:1})])])}}},Zp=Ws(Yp,[["__scopeId","data-v-5f9328af"]]),Qp={class:"container"},Xp={class:"cards-list"},eg={__name:"HomeView",setup(t){return(e,r)=>(De(),dt(Te,null,[fe("section",Qp,[ie(Ip,null,{default:Ir(()=>[...r[0]||(r[0]=[fe("div",{class:"text-head"},[fe("div",{class:"line"},","),fe("div",{class:"line"},[fe("span",null,"!")]),fe("div",{class:"text line"},"   ,  ,  ")],-1)])]),_:1}),fe("div",Xp,[ie(Io,{class:"animate__animated animate__fadeInUp animate__delay-1s",href:"https://send.monobank.ua/jar/8Kun5xwrMJ",title:" | Monobank",badge:"  ",description:" ",minAmount:"10 ",backgroundVariant:"monodonat",image:"/img/kit.png"}),ie(Io,{class:"animate__animated animate__fadeInUp animate__delay-2s",href:"https://donatello.to/MARiK",title:" | Donatello",badge:"  ",description:" ",minAmount:"10 ",backgroundVariant:"donat"})]),r[1]||(r[1]=fe("div",{class:"menu-wrapper"},null,-1))]),ie(Zp)],64))}},tg=Kh({history:Ch("/app/"),routes:[{path:"/",name:"home",component:eg},{path:"/tasks",name:"tasks",component:()=>xo(()=>import("./SocialsView-CIr5dlPR.js"),__vite__mapDeps([0,1]))},{path:"/game",name:"game",component:()=>xo(()=>import("./GameView-Dt_RKh8P.js"),[])}]}),vl=Du(Tp);vl.use(tg);vl.mount("#app");export{vs as B,Te as F,Ip as H,Io as M,Zp as N,fe as a,ie as b,dt as c,gs as d,Ts as e,nt as i,De as o,Tr as t,Ie as u,Ir as w};
